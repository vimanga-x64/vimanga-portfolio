<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vimanga Umange | Portfolio</title>

  <!-- SEO Meta Tags -->
  <meta name="description"
    content="Vimanga Umange - Computer Science Graduate Student specializing in AI/ML, Neural Networks, and Full-Stack Development. University of Windsor M.Sc. candidate with research in Hypergraph Neural Networks and NLP.">
  <meta name="keywords"
    content="Vimanga Umange, Computer Science, Machine Learning, AI, Neural Networks, Deep Learning, NLP, Full-Stack Developer, PyTorch, TensorFlow, React, Flask, Python, JavaScript, University of Windsor, Graduate Student, Software Engineer">
  <meta name="author" content="Vimanga Umange">
  <meta name="robots" content="index, follow">

  <!-- Open Graph Meta Tags (for social media sharing) -->
  <meta property="og:title" content="Vimanga Umange | AI/ML Engineer & Full-Stack Developer">
  <meta property="og:description"
    content="Computer Science Graduate Student specializing in AI/ML, Neural Networks, and Full-Stack Development. M.Sc. candidate at University of Windsor with research publications in Deep Learning.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://vimanga-x64.github.io/vimanga-portfolio/">
  <meta property="og:image" content="https://vimanga-x64.github.io/vimanga-portfolio/images/profile_pic.png">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Vimanga Umange | AI/ML Engineer Portfolio">
  <meta name="twitter:description"
    content="CS Graduate Student specializing in AI/ML, Neural Networks, and Full-Stack Development">
  <meta name="twitter:image" content="https://vimanga-x64.github.io/vimanga-portfolio/images/profile_pic.png">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://vimanga-x64.github.io/vimanga-portfolio/">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="logos/favicon_logo.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Fira+Code:wght@400;500;600&family=Playfair+Display:wght@400;500;600;700;800;900&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
    rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EPL5BQGBMF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-EPL5BQGBMF');
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      overflow-x: hidden;
      width: 100%;
    }

    :root {
      /* Dark Mode - Sophisticated Warm Charcoal */
      --bg-primary: #1a1a1a;
      --bg-secondary: #242424;

      /* NDS Section Backgrounds (Dark Mode) */
      --bg-home: #1a1a1a;
      --bg-about: #1a2421;
      /* Dark forest green tint */
      --bg-projects: #2a1f1a;
      /* Deep warm brown tint */
      --bg-experience: #1c1a18;
      /* Warm dark slate tint */
      --bg-contact: #201a24;
      /* Deep plum tint */

      --text-primary: #f5f5f0;
      --text-secondary: #a8a8a0;
      --accent: #8b7355;
      --accent-hover: #a08060;
      --accent-glow: rgba(139, 115, 85, 0.4);
      --border: rgba(168, 168, 160, 0.15);
      --card-bg: rgba(255, 255, 255, 0.04);
      --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
      --font-hero: 'Playfair Display', serif;
      --font-body: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    [data-theme="light"] {
      /* Light Mode - Elegant Cream/Beige (TrumpRx-inspired) */
      --bg-primary: #f5f5f0;
      --bg-secondary: #eaeae5;

      /* NDS Section Backgrounds (Light Mode) */
      --bg-home: #f5f5f0;
      /* Cream */
      --bg-about: #e8ede3;
      /* Soft sage green */
      --bg-projects: #f5ebe6;
      /* Warm sand/peach */
      --bg-experience: #eaeae5;
      /* Soft warm grey/beige */
      --bg-contact: #ebe6eb;
      /* Soft taupe/lavender */

      --text-primary: #1a1a1a;
      --text-secondary: #666660;
      --accent: #6b5b4f;
      --accent-hover: #574a40;
      --accent-glow: rgba(107, 91, 79, 0.3);
      --border: rgba(26, 26, 26, 0.1);
      --card-bg: rgba(255, 255, 255, 0.7);
      --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }

    body {
      font-family: var(--font-body);
      background: var(--bg-primary);
      /* Fallback */
      color: var(--text-primary);
      overflow-x: hidden;
      line-height: 1.6;
      transition: background 0.3s ease, color 0.3s ease;
    }

    /* --- NDS REDESIGN: Section Block Colors & Gradients --- */
    section {
      transition: background 0.5s ease, color 0.5s ease;
    }

    #home {
      background: var(--bg-home);
    }

    #about {
      background: linear-gradient(to bottom, var(--bg-home) 0%, var(--bg-about) 25%, var(--bg-about) 100%);
    }

    #projects {
      background: linear-gradient(to bottom, var(--bg-about) 0%, var(--bg-projects) 25%, var(--bg-projects) 100%);
    }

    #experience {
      background: linear-gradient(to bottom, var(--bg-projects) 0%, var(--bg-experience) 25%, var(--bg-experience) 100%);
    }

    #contact {
      background: linear-gradient(to bottom, var(--bg-experience) 0%, transparent 25%, transparent 100%);
    }

    /* Particle Background */
    .particles-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      overflow: hidden;
    }

    #particles-canvas {
      width: 100%;
      height: 100%;
      display: block;
      opacity: 0;
      transition: opacity 0.8s ease;
    }

    /* Show particles only in contact section */
    body.in-contact #particles-canvas {
      opacity: 1;
    }

    /* Cursor Follower Removed */

    /* Floating Code Blocks */
    .code-snippet {
      position: absolute;
      width: 220px;
      max-width: 220px;
      padding: 12px 16px;
      background: var(--bg-secondary);
      border: 1px solid rgba(59, 130, 246, 0.4);
      border-radius: 8px;
      font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
      font-size: 12px;
      line-height: 1.5;
      color: var(--text-secondary);
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
      pointer-events: none;
      transition: opacity 0.3s ease;
      opacity: 0.5;
    }

    /* Keyword cards - distinct styling */
    .code-snippet.keyword-card {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(37, 99, 235, 0.15));
      border: 1px solid rgba(59, 130, 246, 0.6);
      color: var(--accent);
      font-weight: 600;
      font-size: 13px;
      text-align: center;
      padding: 14px 18px;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      letter-spacing: 0.3px;
      opacity: 0.5;
    }

    [data-theme="dark"] .code-snippet .code-keyword {
      color: #C678DD;
      font-weight: 600;
    }

    [data-theme="light"] .code-snippet .code-keyword {
      color: #9333EA;
      font-weight: 600;
    }

    [data-theme="dark"] .code-snippet .code-function {
      color: #61AFEF;
    }

    [data-theme="light"] .code-snippet .code-function {
      color: #2563EB;
    }

    [data-theme="dark"] .code-snippet .code-string {
      color: #98C379;
    }

    [data-theme="light"] .code-snippet .code-string {
      color: #16A34A;
    }

    [data-theme="dark"] .code-snippet .code-number {
      color: #D19A66;
    }

    [data-theme="light"] .code-snippet .code-number {
      color: #D97706;
    }

    [data-theme="dark"] .code-snippet .code-comment {
      color: #5C6370;
      font-style: italic;
    }

    [data-theme="light"] .code-snippet .code-comment {
      color: #6B7280;
      font-style: italic;
    }

    .floating-shape {
      position: absolute;
      opacity: 0.1;
      transition: transform 0.1s ease-out;
    }

    .cube {
      width: 80px;
      height: 80px;
      border: 2px solid var(--accent);
      transform-style: preserve-3d;
      animation: float 6s ease-in-out infinite;
    }

    .sphere {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--accent), transparent);
      animation: float 8s ease-in-out infinite;
    }

    .pyramid {
      width: 0;
      height: 0;
      border-left: 40px solid transparent;
      border-right: 40px solid transparent;
      border-bottom: 70px solid var(--accent);
      animation: float 7s ease-in-out infinite;
    }

    .hexagon {
      width: 70px;
      height: 40px;
      background: var(--accent);
      position: relative;
      clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
      animation: float 9s ease-in-out infinite;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0) rotate(0deg);
      }

      25% {
        transform: translateY(-20px) rotate(5deg);
      }

      50% {
        transform: translateY(0) rotate(0deg);
      }

      75% {
        transform: translateY(-10px) rotate(-5deg);
      }
    }

    /* Binary Rain */
    .binary-rain {
      position: absolute;
      font-family: 'Courier New', monospace;
      font-size: 16px;
      color: var(--accent);
      opacity: 0.2;
      animation: rain linear infinite;
      font-weight: bold;
    }

    @keyframes rain {
      0% {
        transform: translateY(-100%);
        opacity: 0;
      }

      10% {
        opacity: 0.2;
      }

      90% {
        opacity: 0.2;
      }

      100% {
        transform: translateY(100vh);
        opacity: 0;
      }
    }

    /* Circuit Board Pattern */
    .circuit-board {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0.05;
    }

    .circuit-node {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      box-shadow: 0 0 10px var(--accent);
    }

    .circuit-path {
      position: absolute;
      background: var(--accent);
      box-shadow: 0 0 5px var(--accent);
    }

    /* Theme Toggle */
    .theme-toggle {
      position: relative;
      width: 45px;
      height: 45px;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 240ms var(--ease-spring), background 240ms ease, box-shadow 240ms ease, border-color 240ms ease;
      margin-left: 1rem;
      flex-shrink: 0;
    }

    [data-theme="light"] .theme-toggle {
      border-color: rgba(0, 0, 0, 0.1);
    }

    .theme-toggle:hover {
      transform: translateY(-2px) scale(1.12) rotate(12deg);
      background: rgba(59, 130, 246, 0.15);
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
    }

    .theme-toggle:active {
      transform: translateY(-1px) scale(1.06) rotate(6deg);
    }

    [data-theme="light"] .theme-toggle:hover {
      background: rgba(37, 99, 235, 0.1);
      box-shadow: 0 4px 15px rgba(37, 99, 235, 0.2);
    }

    @media (prefers-reduced-motion: reduce) {
      .theme-toggle {
        transition: none;
      }

      .theme-toggle:hover {
        transform: scale(1.05);
      }
    }

    .theme-toggle i {
      font-size: 1.5rem;
      color: var(--accent);
    }

    /* Contact Section Logo */
    .contact-logo {
      position: absolute;
      top: 40px;
      left: 40px;
      height: clamp(45px, 6vw, 65px);
      width: auto;
      z-index: 100;
      transition: filter 0.4s var(--ease-spring), opacity 0.4s ease;
      pointer-events: none;
      /* Default to assuming light mode presentation initially unless dark mode is explicitly set */
      filter: none;
      mix-blend-mode: multiply;
    }

    /* Dark Mode (default behavior, but explicit for clarity) */
    [data-theme="dark"] .contact-logo {
      /* Invert so the black text becomes white, hue-rotate to restore original colors somewhat, without desaturating aggressively */
      filter: invert(1) hue-rotate(180deg) brightness(1.3);
      mix-blend-mode: screen;
      /* hides black background if there's any */
    }

    /* Light Mode */
    [data-theme="light"] .contact-logo {
      filter: none;
      mix-blend-mode: multiply;
      /* hides white/cream background if there's any */
    }

    @media (max-width: 768px) {
      .contact-logo {
        top: 20px;
        left: 20px;
        height: 35px;
      }
    }

    /* Minimal Hamburger Menu */
    .menu-toggle {
      position: fixed;
      top: 30px;
      right: 40px;
      z-index: 1002;
      background: none;
      border: none;
      cursor: pointer;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      transition: all 0.3s ease;
    }

    .menu-toggle span {
      display: block;
      width: 30px;
      height: 2px;
      background: #0a0a0a;
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .menu-toggle span {
      background: #fff;
    }

    .menu-toggle:hover span {
      background: var(--accent);
    }

    .menu-toggle.active span:first-child {
      transform: rotate(45deg) translate(5px, 6px);
    }

    .menu-toggle.active span:last-child {
      transform: rotate(-45deg) translate(5px, -6px);
    }

    /* Menu Overlay */
    .menu-overlay {
      position: fixed;
      top: 0;
      right: -100%;
      width: 100%;
      max-width: 450px;
      height: 100vh;
      background: rgba(250, 250, 250, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-left: 1px solid rgba(0, 0, 0, 0.05);
      z-index: 1001;
      padding: 100px 50px 50px;
      transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow: -10px 0 30px rgba(0, 0, 0, 0.05);
    }

    [data-theme="dark"] .menu-overlay {
      background: rgba(15, 15, 18, 0.85);
      border-left: 1px solid rgba(255, 255, 255, 0.05);
    }

    .menu-overlay.active {
      right: 0;
    }

    .menu-nav {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .menu-nav-item {
      font-family: 'Playfair Display', 'Times New Roman', Georgia, serif;
      font-size: 1.75rem;
      font-weight: 500;
      color: #0a0a0a;
      text-decoration: none;
      padding: 0.75rem 0;
      transition: all 0.3s ease;
      position: relative;
      display: inline-block;
      opacity: 0;
      transform: translateY(-20px);
    }

    /* Waterfall animation when menu opens */
    .menu-overlay.active .menu-nav-item {
      animation: waterfallIn 0.5s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
    }

    .menu-overlay.active .menu-nav-item:nth-child(1) {
      animation-delay: 0.1s;
    }

    .menu-overlay.active .menu-nav-item:nth-child(2) {
      animation-delay: 0.2s;
    }

    .menu-overlay.active .menu-nav-item:nth-child(3) {
      animation-delay: 0.3s;
    }

    .menu-overlay.active .menu-nav-item:nth-child(4) {
      animation-delay: 0.4s;
    }

    .menu-overlay.active .menu-nav-item:nth-child(5) {
      animation-delay: 0.5s;
    }

    .menu-overlay.active .menu-nav-item:nth-child(6) {
      animation-delay: 0.6s;
    }

    @keyframes waterfallIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    [data-theme="dark"] .menu-nav-item {
      color: #fff;
    }

    .menu-nav-item:hover {
      color: var(--accent);
      transform: translateX(10px);
    }

    .menu-nav-item::after {
      content: '';
      position: absolute;
      bottom: 0.5rem;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--accent);
      transition: width 0.3s ease;
    }

    .menu-nav-item:hover::after {
      width: 100%;
    }

    .menu-nav-item.active {
      color: var(--accent);
    }

    .menu-nav-item.active::after {
      width: 100%;
    }

    /* Menu Contact Section */
    .menu-contact {
      margin-top: 3rem;
    }

    .menu-contact-label {
      font-size: 0.75rem;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: #888;
      margin-bottom: 1rem;
    }

    .menu-contact-link {
      display: block;
      font-size: 1.1rem;
      color: #0a0a0a;
      text-decoration: none;
      padding: 0.5rem 0;
      transition: color 0.3s ease;
    }

    [data-theme="dark"] .menu-contact-link {
      color: #fff;
    }

    .menu-contact-link:hover {
      color: var(--accent);
    }

    /* Menu Social Links */
    .menu-social {
      display: flex;
      gap: 2rem;
      margin-top: auto;
      padding-top: 2rem;
    }

    .menu-social-link {
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 1px;
      color: #666;
      text-decoration: none;
      transition: color 0.3s ease;
    }

    [data-theme="dark"] .menu-social-link {
      color: #888;
    }

    .menu-social-link:hover {
      color: var(--accent);
    }

    /* Theme Toggle in Menu (Sliding Switch) */
    .menu-theme-toggle {
      --switch-w: 70px;
      --switch-h: 36px;
      position: absolute;
      bottom: 50px;
      right: 50px;
      width: var(--switch-w);
      height: var(--switch-h);
      background: #e5e7eb;
      border-radius: 30px;
      cursor: pointer;
      display: flex;
      align-items: center;
      transition: background 0.4s ease;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
      border: none;
      outline: none;
    }

    [data-theme="dark"] .menu-theme-toggle {
      background: #2a2a35;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .theme-switch-track {
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 8px;
    }

    .theme-switch-thumb {
      position: absolute;
      top: 3px;
      left: 3px;
      width: 30px;
      height: 30px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.4s ease, box-shadow 0.4s ease;
      z-index: 2;
    }

    /* When dark mode is active, slide to the right and add the glow */
    [data-theme="dark"] .theme-switch-thumb {
      transform: translateX(34px);
      background: #f1f5f9;
      box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.2), 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .theme-switch-icon {
      font-size: 1.1rem;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: color 0.4s ease, opacity 0.4s ease;
    }

    .sun-icon {
      color: #f59e0b;
      /* Bright amber in light mode */
    }

    .moon-icon {
      color: #9ca3af;
      /* Muted in light mode */
    }

    [data-theme="dark"] .sun-icon {
      color: #4b5563;
      /* Muted in dark mode */
    }

    [data-theme="dark"] .moon-icon {
      color: #e2e8f0;
      /* Bright silver/white in dark mode */
      filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.5));
    }

    /* Backdrop overlay */
    .menu-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .menu-backdrop.active {
      opacity: 1;
      visibility: visible;
    }

    /* Glassmorphism Capsule Navigation */
    .capsule-nav {
      position: fixed;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 999px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
      transition: all 0.4s var(--ease-spring);
    }

    [data-theme="light"] .capsule-nav {
      background: rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(0, 0, 0, 0.1);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
    }

    .capsule-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.4s var(--ease-spring);
      overflow: hidden;
    }

    .capsule-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--text-secondary);
      opacity: 0.6;
      transition: all 0.4s var(--ease-spring);
      flex-shrink: 0;
    }

    .capsule-item:hover .capsule-dot {
      opacity: 1;
      transform: scale(1.2);
    }

    .capsule-item.active .capsule-dot {
      display: none;
    }

    .capsule-text {
      display: none;
      font-family: var(--font-body);
      font-weight: 700;
      font-size: 1rem;
      letter-spacing: 0.02em;
      color: var(--text-primary);
      white-space: nowrap;
    }

    .capsule-item.active .capsule-text {
      display: inline-flex;
    }

    .capsule-char {
      display: inline-block;
      opacity: 0;
      transform: translateY(10px);
      animation: capsuleWavyReveal 0.5s var(--ease-spring) forwards;
    }

    /* Slight fluid glow over the text characters */
    .capsule-item.active .capsule-char {
      text-shadow: 0 0 12px var(--accent-glow);
    }

    @keyframes capsuleWavyReveal {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 768px) {
      .capsule-nav {
        bottom: 20px;
        padding: 10px 20px;
        gap: 10px;
      }

      .capsule-dot {
        width: 6px;
        height: 6px;
      }

      .capsule-text {
        font-size: 0.85rem;
      }
    }

    /* Main Content */
    .main-content {
      margin-left: 0;
      margin-top: 0;
      min-height: 100vh;
    }

    /* Hero Section */
    .hero-section {
      min-height: 100vh;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 2rem;
      background: var(--bg-primary);
      overflow: hidden;
      z-index: 20;
    }

    [data-theme="dark"] .hero-section {
      background: var(--bg-primary);
    }

    /* --- NDS REDESIGN: 3D HERO MODELS --- */
    .hero-models {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      /* z-index removed so children can interleave with `.hero-name-section` (z-index: 60) */
    }

    .hero-model {
      position: absolute;
      pointer-events: auto;
      filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.15));
      animation: float-model 8s ease-in-out infinite alternate;
      /* add a subtle light mode drop shadow */
      outline: none;
      --poster-color: transparent;
    }

    /* Target the web component directly to remove any shadow DOM outlines */
    model-viewer {
      outline: none;
      --poster-color: transparent;
    }

    [data-theme="light"] .hero-model {
      filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.08));
    }

    .model-computer {
      top: 18%;
      left: 14%;
      width: clamp(100px, 15vw, 250px);
      height: clamp(100px, 15vw, 250px);
      animation-delay: 0s;
      animation-duration: 9s;
      z-index: 65;
      /* Overlay text (60) */
    }

    .model-keyboard {
      bottom: 22%;
      right: 18%;
      width: clamp(120px, 18vw, 300px);
      height: clamp(120px, 18vw, 300px);
      animation-delay: -2s;
      animation-duration: 11s;
      z-index: 65;
      /* Overlay text (60) */
    }

    .model-mouse {
      top: 25%;
      right: 14%;
      width: clamp(60px, 8vw, 150px);
      height: clamp(60px, 8vw, 150px);
      animation-delay: -5s;
      animation-duration: 7s;
      z-index: 55;
      /* Stay behind text */
    }

    @keyframes float-model {
      0% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-15px);
      }

      100% {
        transform: translateY(10px);
      }
    }

    /* --- NDS REDESIGN: Hide all decorative background layers --- */
    .hero-aurora,
    .hero-grid-pattern,
    .hero-vignette,
    #hero-particles-canvas,
    .hero-cursor-glow,
    .hero-video,
    .mac-terminal-container,
    .spotlight-overlay {
      display: none !important;
    }

    /* --- HERO AURORA BACKGROUND (kept for reference, hidden above) --- */
    .hero-aurora {
      position: absolute;
      inset: 0;
      overflow: hidden;
      z-index: 0;
      background: radial-gradient(ellipse at 20% 50%, #0d0d14 0%, #0a0a0c 100%);
    }

    .hero-video {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
      pointer-events: none;
      will-change: opacity;
    }

    .hero-video.is-visible {
      opacity: 1;
    }

    .hero-section.video-active .hero-aurora,
    .hero-section.video-active #hero-particles-canvas {
      opacity: 0;
    }

    [data-theme="light"] .hero-aurora {
      background: radial-gradient(ellipse at 20% 50%, #f8f9fa 0%, #e9ecef 100%);
    }

    /* Light mode: suppress the bright halo around hero video.
       Use a layered approach so corners (which are furthest from the ellipse center)
       get fully covered and don't look oversaturated. */
    [data-theme="light"] .hero-vignette {
      background:
        /* hard corner fill – covers the very tip of each corner */
        radial-gradient(ellipse 140% 140% at center, transparent 50%, var(--bg-primary) 78%),
        /* softer overall fade for the edges */
        radial-gradient(ellipse at center, transparent 25%, var(--bg-primary) 80%);
    }

    [data-theme="light"] .hero-video {
      filter: brightness(0.88) contrast(1.02) saturate(0.85);
    }

    .hero-aurora .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(100px);
      will-change: transform;
      pointer-events: none;
    }

    .hero-aurora .orb-1 {
      width: 700px;
      height: 700px;
      background: radial-gradient(circle, rgba(99, 102, 241, 0.35), transparent 70%);
      top: -20%;
      left: -15%;
      animation: orbDrift1 28s ease-in-out infinite;
    }

    .hero-aurora .orb-2 {
      width: 550px;
      height: 550px;
      background: radial-gradient(circle, rgba(45, 212, 191, 0.25), transparent 70%);
      top: 40%;
      right: -10%;
      animation: orbDrift2 32s ease-in-out infinite;
    }

    .hero-aurora .orb-3 {
      width: 800px;
      height: 800px;
      background: radial-gradient(circle, rgba(139, 92, 246, 0.2), transparent 70%);
      bottom: -25%;
      left: 25%;
      animation: orbDrift3 36s ease-in-out infinite;
    }

    .hero-aurora .orb-4 {
      width: 450px;
      height: 450px;
      background: radial-gradient(circle, rgba(236, 72, 153, 0.15), transparent 70%);
      top: 15%;
      left: 55%;
      animation: orbDrift4 24s ease-in-out infinite;
    }

    .hero-aurora .orb-5 {
      width: 350px;
      height: 350px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.2), transparent 70%);
      bottom: 10%;
      right: 20%;
      animation: orbDrift5 30s ease-in-out infinite;
    }

    [data-theme="light"] .hero-aurora .orb-1 {
      background: radial-gradient(circle, rgba(99, 102, 241, 0.12), transparent 70%);
    }

    [data-theme="light"] .hero-aurora .orb-2 {
      background: radial-gradient(circle, rgba(45, 212, 191, 0.1), transparent 70%);
    }

    [data-theme="light"] .hero-aurora .orb-3 {
      background: radial-gradient(circle, rgba(139, 92, 246, 0.08), transparent 70%);
    }

    [data-theme="light"] .hero-aurora .orb-4 {
      background: radial-gradient(circle, rgba(236, 72, 153, 0.06), transparent 70%);
    }

    [data-theme="light"] .hero-aurora .orb-5 {
      background: radial-gradient(circle, rgba(59, 130, 246, 0.08), transparent 70%);
    }

    @keyframes orbDrift1 {

      0%,
      100% {
        transform: translate(0, 0) scale(1);
      }

      33% {
        transform: translate(80px, 40px) scale(1.08);
      }

      66% {
        transform: translate(-30px, -50px) scale(0.95);
      }
    }

    @keyframes orbDrift2 {

      0%,
      100% {
        transform: translate(0, 0) scale(1);
      }

      33% {
        transform: translate(-60px, -40px) scale(1.05);
      }

      66% {
        transform: translate(40px, 60px) scale(0.92);
      }
    }

    @keyframes orbDrift3 {

      0%,
      100% {
        transform: translate(0, 0) scale(1);
      }

      33% {
        transform: translate(50px, -70px) scale(1.06);
      }

      66% {
        transform: translate(-60px, 30px) scale(0.97);
      }
    }

    @keyframes orbDrift4 {

      0%,
      100% {
        transform: translate(0, 0) scale(1);
      }

      33% {
        transform: translate(-40px, 50px) scale(1.1);
      }

      66% {
        transform: translate(70px, -20px) scale(0.93);
      }
    }

    @keyframes orbDrift5 {

      0%,
      100% {
        transform: translate(0, 0) scale(1);
      }

      33% {
        transform: translate(30px, -40px) scale(1.07);
      }

      66% {
        transform: translate(-50px, 50px) scale(0.96);
      }
    }

    /* Subtle dot grid */
    .hero-grid-pattern {
      position: absolute;
      inset: 0;
      z-index: 1;
      pointer-events: none;
      background-image: radial-gradient(circle, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
      background-size: 48px 48px;
      mask-image: radial-gradient(ellipse 80% 70% at 50% 50%, black 20%, transparent 70%);
      -webkit-mask-image: radial-gradient(ellipse 80% 70% at 50% 50%, black 20%, transparent 70%);
    }

    [data-theme="light"] .hero-grid-pattern {
      background-image: radial-gradient(circle, rgba(0, 0, 0, 0.06) 1px, transparent 1px);
    }

    /* Vignette overlay */
    .hero-vignette {
      position: absolute;
      inset: 0;
      z-index: 2;
      pointer-events: none;
      background: radial-gradient(ellipse at center, transparent 40%, var(--bg-primary) 100%);
    }

    /* Extra corner-only masks for light mode (rectangle corners sit outside
       the radial-gradient ellipse, so they can peek through). These four
       small linear gradients ensure a clean fade at every corner. */
    [data-theme="light"] .hero-vignette::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        linear-gradient(135deg, var(--bg-primary) 0%, transparent 20%),
        linear-gradient(225deg, var(--bg-primary) 0%, transparent 20%),
        linear-gradient(315deg, var(--bg-primary) 0%, transparent 20%),
        linear-gradient(45deg, var(--bg-primary) 0%, transparent 20%);
    }

    /* Interactive particle canvas */
    #hero-particles-canvas {
      position: absolute;
      inset: 0;
      z-index: 3;
      pointer-events: none;
    }



    @media (max-width: 768px) {
      .hero-aurora .orb {
        filter: blur(80px);
      }

      .hero-aurora .orb-1 {
        width: 400px;
        height: 400px;
      }

      .hero-aurora .orb-2 {
        width: 350px;
        height: 350px;
      }

      .hero-aurora .orb-3 {
        width: 500px;
        height: 500px;
      }

      .hero-aurora .orb-4 {
        width: 300px;
        height: 300px;
      }

      .hero-aurora .orb-5 {
        display: none;
      }


    }

    /* --- LAYER 2: HERO CONTENT — NDS centered stack --- */
    .hero-content {
      position: relative;
      z-index: 50;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 2.5rem;
    }

    /* --- macOS Terminal Styles --- */
    .mac-terminal-container {
      --terminal-scale: 1;
      /* Default scale when launched */
      position: absolute;
      top: 55%;
      right: 5%;
      transform: translateY(-50%) scale(0.9);
      width: 750px;
      z-index: 60;
      display: none;
      opacity: 0;
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
    }

    @media (min-width: 1024px) {
      .mac-terminal-container {
        display: block;
      }
    }

    @media (max-width: 1400px) and (min-width: 1024px) {
      .mac-terminal-container {
        --terminal-scale: 0.85;
        right: 2%;
      }
    }

    @media (max-width: 1200px) and (min-width: 1024px) {
      .mac-terminal-container {
        --terminal-scale: 0.75;
      }
    }

    @media (max-height: 850px) and (min-width: 1024px) {
      .mac-terminal-container {
        --terminal-scale: 0.8;
      }
    }

    @media (max-height: 750px) and (min-width: 1024px) {
      .mac-terminal-container {
        --terminal-scale: 0.7;
      }
    }

    @media (max-height: 650px) and (min-width: 1024px) {
      .mac-terminal-container {
        --terminal-scale: 0.6;
      }
    }

    .mac-terminal-container.launched {
      transform: translateY(-50%) scale(var(--terminal-scale));
      opacity: 1;
    }

    /* Terminal bounce-in entrance */
    @keyframes terminalBounceIn {
      0% {
        opacity: 0;
        transform: translateY(-50%) scale(calc(var(--terminal-scale) * 0.3)) rotateX(20deg);
      }

      50% {
        opacity: 1;
        transform: translateY(-50%) scale(calc(var(--terminal-scale) * 1.05)) rotateX(-3deg);
      }

      70% {
        transform: translateY(-50%) scale(calc(var(--terminal-scale) * 0.97)) rotateX(1deg);
      }

      100% {
        opacity: 1;
        transform: translateY(-50%) scale(var(--terminal-scale)) rotateX(0);
      }
    }

    .mac-terminal-container.bounce-in {
      animation: terminalBounceIn 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    /* Error text in terminal */
    .cmd-error {
      color: #ff5f56;
      margin-bottom: 4px;
      display: block;
      font-weight: 500;
    }

    .cmd-success {
      color: #27c93f;
      display: block;
    }

    .cmd-info {
      color: #5aa9fa;
      display: block;
    }

    .cmd-warning {
      color: #ffbd2e;
      display: block;
    }

    .terminal-project-line {
      display: flex;
      flex-wrap: nowrap;
      gap: 0.5rem;
      align-items: baseline;
    }

    .terminal-project-title {
      white-space: nowrap;
    }

    .cmd-delete {
      text-decoration: line-through;
      opacity: 0.4;
      color: #ff5f56;
    }

    .mac-terminal {
      /* Glassmorphism Background */
      background: rgba(20, 25, 30, 0.65);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);

      /* Borders & Shadows */
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 12px;
      box-shadow:
        0 30px 60px rgba(0, 0, 0, 0.6),
        inset 0 0 0 1px rgba(255, 255, 255, 0.05);

      /* Layout & Fonts */
      overflow: hidden;
      font-family: 'Fira Code', monospace;
      position: relative;
      z-index: 10;
    }

    .mac-terminal .terminal-header {
      background: rgba(255, 255, 255, 0.03);
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .mac-terminal .terminal-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }

    .mac-terminal .terminal-dot.red {
      background-color: #ff5f56;
    }

    .mac-terminal .terminal-dot.yellow {
      background-color: #ffbd2e;
    }

    .mac-terminal .terminal-dot.green {
      background-color: #27c93f;
    }

    .mac-terminal .terminal-title {
      margin-left: 12px;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.4);
    }

    .terminal-window {
      padding: 20px;
      height: 420px;
      color: #f5f5f0;
      font-size: 1.1rem;
      line-height: 1.6;
      overflow-y: hidden;
    }

    .terminal-glow {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 105%;
      height: 105%;
      background: var(--accent);
      opacity: 0.15;
      filter: blur(60px);
      z-index: 1;
      border-radius: 20px;
    }

    .cmd-prompt {
      color: #27c93f;
      margin-right: 8px;
    }

    .cmd-path {
      color: #5aa9fa;
    }

    .cmd-command {
      color: #fff;
      font-weight: 500;
    }

    .cmd-output {
      color: #a8a8a0;
      margin-bottom: 12px;
      display: block;
    }

    .cmd-cursor {
      display: inline-block;
      width: 8px;
      height: 16px;
      background: #a8a8a0;
      animation: blink 1s infinite;
      vertical-align: middle;
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0;
      }
    }

    /* Spotlight Search Overlay */
    .spotlight-overlay {
      position: absolute;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 600px;
      background: rgba(20, 25, 30, 0.65);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 12px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 20;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .spotlight-overlay.active {
      opacity: 1;
      visibility: visible;
      top: 40%;
    }

    .spotlight-icon {
      font-size: 1.8rem;
      color: var(--text-secondary);
    }

    .spotlight-input {
      background: transparent;
      border: none;
      color: var(--text-primary);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-size: 1.5rem;
      width: 100%;
      outline: none;
    }

    .hero-content {
      width: 100%;
      height: 100vh;
      position: relative;
      z-index: 50;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 2.5rem;
    }

    /* Centered name section — NDS style */
    .hero-name-section {
      position: relative;
      text-align: center;
      z-index: 60;
      transition: opacity 0.3s ease;
    }

    .hero-name-section h1 {
      font-size: clamp(4rem, 12vw, 11rem);
      font-weight: 900;
      line-height: 0.92;
      margin: 0;
      color: var(--text-primary);
      font-family: 'Playfair Display', 'Times New Roman', Georgia, serif;
      letter-spacing: -0.04em;
      opacity: 0;
      animation: heroNameReveal 1.2s cubic-bezier(0.16, 1, 0.3, 1) 0.3s forwards;
    }

    @keyframes heroNameReveal {
      from {
        opacity: 0;
        transform: translateY(40px);
        filter: blur(8px);
      }

      60% {
        filter: blur(0px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0px);
      }
    }

    [data-theme="dark"] .hero-name-section h1 {
      color: var(--text-primary);
      text-shadow: none;
    }

    .hero-name-section .typing-subtitle {
      font-size: clamp(1rem, 2vw, 1.35rem);
      font-style: italic;
      color: var(--text-secondary);
      margin-top: 1.5rem;
      font-family: 'Playfair Display', 'Times New Roman', Georgia, serif;
      font-weight: 400;
      opacity: 0;
      animation: heroNameReveal 1s cubic-bezier(0.16, 1, 0.3, 1) 0.7s forwards;
      letter-spacing: 0.02em;
    }

    [data-theme="dark"] .hero-name-section .typing-subtitle {
      color: var(--text-secondary);
      text-shadow: none;
    }

    .title-rotator {
      position: relative;
      display: block;
      height: 1.8em;
      overflow: hidden;
      line-height: 1.8em;
    }

    .title-rotator .title-item {
      display: block;
      position: absolute;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transform: translateY(100%);
      transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
      white-space: nowrap;
    }

    .title-rotator .title-item.active {
      opacity: 1;
      transform: translateY(0);
    }

    .title-rotator .title-item.exit-up {
      opacity: 0;
      transform: translateY(-100%);
    }

    /* Social links — centered row below buttons */
    .hero-social-links {
      position: relative;
      display: flex;
      gap: 1.5rem;
      z-index: 60;
      justify-content: center;
      transition: opacity 0.3s ease;
      opacity: 0;
      animation: heroNameReveal 1s cubic-bezier(0.16, 1, 0.3, 1) 1.1s forwards;
    }

    .hero-name-section.hidden,
    .hero-social-links.hidden,
    .hero-buttons.hidden {
      opacity: 0;
      pointer-events: none;
    }

    /* CTA buttons — centered row below subtitle */
    .hero-buttons {
      position: relative;
      display: flex;
      gap: 1.25rem;
      z-index: 60;
      justify-content: center;
      transition: opacity 0.3s ease;
      opacity: 0;
      animation: heroNameReveal 1s cubic-bezier(0.16, 1, 0.3, 1) 0.9s forwards;
    }

    .hero-buttons .btn {
      padding: 1rem 1.75rem;
      font-size: 0.95rem;
      font-weight: 500;
      font-family: 'Playfair Display', 'Times New Roman', Georgia, serif;
      letter-spacing: 0.5px;
      border-radius: 50px;
      text-transform: none;
      display: flex;
      align-items: center;
      gap: 0.6rem;
      position: relative;
      overflow: hidden;
    }

    .hero-buttons .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .hero-buttons .btn:not(.btn-download):hover::before {
      left: 100%;
    }

    .hero-buttons .btn i {
      font-size: 1.1rem;
      transition: transform 0.3s ease;
    }

    .hero-buttons .btn:not(.btn-download):hover i {
      transform: translateX(3px);
    }

    .hero-buttons .btn-primary {
      background: #eefba3;
      color: #111;
      border: none;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      /* For flow text animation */
    }

    .hero-buttons .btn-primary:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 8px 25px rgba(238, 251, 163, 0.3);
    }

    /* Sliding text reveal hover effect for btn-primary */
    .btn-text-wrap {
      display: inline-flex;
      position: relative;
      overflow: hidden;
      vertical-align: middle;
    }

    .btn-text-inner {
      display: inline-flex;
      transition: transform 0.4s cubic-bezier(0.76, 0, 0.24, 1);
    }

    .btn-text-wrap::after {
      content: attr(data-text);
      position: absolute;
      top: -100%;
      left: 0;
      width: 100%;
      height: 100%;
      display: inline-flex;
      transition: transform 0.4s cubic-bezier(0.76, 0, 0.24, 1);
    }

    .btn-primary:hover .btn-text-inner {
      transform: translateY(100%);
    }

    .btn-primary:hover .btn-text-wrap::after {
      transform: translateY(100%);
    }

    [data-theme="dark"] .hero-buttons .btn-primary {
      background: #eefba3;
      color: #111;
    }

    [data-theme="dark"] .hero-buttons .btn-primary:hover {
      transform: translateY(-2px) scale(1.02);
    }

    .hero-buttons .btn-secondary {
      background: transparent;
      color: var(--text-primary);
      border: 1.5px solid var(--border);
      box-shadow: none;
      z-index: 1;
      /* For the pseudo-element fill */
    }

    .hero-buttons .btn-secondary.btn-download::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #ffb7b2;
      /* Aesthetic pastel peach/pink color */
      transform: translateX(-101%);
      transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
      z-index: -1;
    }

    .hero-buttons .btn-secondary.btn-download:hover::before {
      transform: translateX(0);
    }

    .hero-buttons .btn-secondary:not(.btn-download):hover {
      background: var(--text-primary);
      color: var(--bg-primary);
      border-color: var(--text-primary);
      transform: translateY(-2px);
    }

    .hero-buttons .btn-secondary.btn-download:hover {
      color: #111;
      /* Dark text for contrast against pastel peach */
      border-color: #ffb7b2;
      transform: translateY(-2px);
      box-shadow: none;
      /* Remove any accidental glow */
    }

    .hero-buttons .btn-secondary:hover i {
      animation: bounce 0.5s ease infinite;
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-3px);
      }
    }

    [data-theme="dark"] .hero-buttons .btn-secondary {
      color: var(--text-primary);
      border-color: var(--border);
    }

    [data-theme="dark"] .hero-buttons .btn-secondary:not(.btn-download):hover {
      background: var(--text-primary);
      color: var(--bg-primary);
      border-color: var(--text-primary);
    }

    .hero-social-link {
      color: var(--text-secondary);
      font-size: 1.5rem;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      opacity: 0.6;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: transparent;
      border: 1.5px solid var(--border);
      position: relative;
      overflow: hidden;
    }

    .hero-social-link .social-icon {
      transition: all 0.4s ease;
      position: absolute;
    }

    .hero-social-link .social-logo {
      width: 28px;
      height: 28px;
      object-fit: contain;
      opacity: 0;
      transform: scale(0.5);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: absolute;
      filter: brightness(0) invert(0);
    }

    [data-theme="dark"] .hero-social-link {
      color: var(--text-secondary);
      border-color: var(--border);
    }

    [data-theme="dark"] .hero-social-link .social-logo {
      filter: brightness(0) invert(1);
    }

    .hero-social-link:hover {
      opacity: 1;
      transform: scale(1.25);
      border-color: transparent;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(139, 92, 246, 0.15));
      box-shadow:
        0 0 20px rgba(59, 130, 246, 0.4),
        0 0 40px rgba(59, 130, 246, 0.2),
        0 0 60px rgba(139, 92, 246, 0.1);
    }

    .hero-social-link:hover .social-icon {
      opacity: 0;
      transform: scale(0.5);
    }

    .hero-social-link:hover .social-logo {
      opacity: 1;
      transform: scale(1.1);
    }

    /* Individual social hover colors */
    .hero-social-link[data-social="github"]:hover {
      background: linear-gradient(135deg, rgba(36, 41, 46, 0.2), rgba(36, 41, 46, 0.1));
      box-shadow: 0 0 25px rgba(36, 41, 46, 0.5), 0 0 50px rgba(36, 41, 46, 0.3);
    }

    .hero-social-link[data-social="linkedin"]:hover {
      background: linear-gradient(135deg, rgba(10, 102, 194, 0.2), rgba(10, 102, 194, 0.1));
      box-shadow: 0 0 25px rgba(10, 102, 194, 0.5), 0 0 50px rgba(10, 102, 194, 0.3);
    }

    .hero-social-link[data-social="medium"]:hover {
      background: linear-gradient(135deg, rgba(0, 0, 0, 0.15), rgba(66, 66, 66, 0.1));
      box-shadow: 0 0 25px rgba(0, 0, 0, 0.4), 0 0 50px rgba(0, 0, 0, 0.2);
    }

    [data-theme="dark"] .hero-social-link[data-social="github"]:hover {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(200, 200, 200, 0.1));
      box-shadow: 0 0 25px rgba(255, 255, 255, 0.3), 0 0 50px rgba(255, 255, 255, 0.15);
    }

    [data-theme="dark"] .hero-social-link[data-social="medium"]:hover {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(200, 200, 200, 0.1));
      box-shadow: 0 0 25px rgba(255, 255, 255, 0.3), 0 0 50px rgba(255, 255, 255, 0.15);
    }

    .hero-text p {
      font-size: 1.25rem;
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: 3rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      font-family: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
      background: rgba(10, 10, 26, 0.6);
      padding: 1.5rem 2rem;
      border-radius: 12px;
      border: 1px solid rgba(59, 130, 246, 0.2);
      backdrop-filter: blur(10px);
    }

    [data-theme="dark"] .hero-text .code-highlight {
      color: #e6e6e6;
    }

    [data-theme="light"] .hero-text .code-highlight {
      color: #1f2937;
    }

    [data-theme="dark"] .hero-text .keyword {
      color: #C678DD;
      font-weight: 600;
    }

    [data-theme="light"] .hero-text .keyword {
      color: #9333EA;
      font-weight: 600;
    }

    [data-theme="dark"] .hero-text .string {
      color: #98C379;
      font-weight: 600;
    }

    [data-theme="light"] .hero-text .string {
      color: #16A34A;
      font-weight: 600;
    }

    .hero-text .function {
      color: #61AFEF;
      font-weight: 600;
    }

    .hero-text .property {
      color: #E5C07B;
      font-weight: 600;
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-weight: 600;
      transition: transform 260ms var(--ease-spring), box-shadow 260ms ease, background 260ms ease, color 260ms ease, border-color 260ms ease;
      text-decoration: none;
      cursor: pointer;
      border: none;
      font-size: 1.1rem;
      will-change: transform;
    }

    .btn:focus-visible,
    .theme-toggle:focus-visible,
    .mobile-menu-toggle:focus-visible,
    .nav-item:focus-visible,
    .social-link:focus-visible,
    .pub-link:focus-visible,
    .contact-submit-btn:focus-visible,
    .copy-btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 3px;
    }

    @media (prefers-reduced-motion: reduce) {
      .btn {
        transition: none;
      }

      .btn:hover {
        transform: none !important;
      }

      .btn-download {
        animation: none !important;
      }

      .theme-toggle,
      .mobile-menu-toggle,
      .nav-item,
      .social-link,
      .pub-link,
      .contact-submit-btn,
      .copy-btn {
        transition: none !important;
      }
    }

    .btn-primary {
      background: linear-gradient(135deg, #3B82F6, #2563eb);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 15px 40px rgba(59, 130, 246, 0.5);
    }

    .btn-primary:active {
      transform: translateY(-1px) scale(0.98);
      box-shadow: 0 10px 28px rgba(59, 130, 246, 0.35);
    }

    .btn-secondary {
      background: rgba(139, 92, 246, 0.08);
      color: var(--accent);
      border: 1px solid rgba(139, 92, 246, 0.25);
      border-radius: 100px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .btn-secondary:hover {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
      transform: translateY(-3px);
      box-shadow: 0 10px 30px var(--accent-glow);
    }

    .btn-secondary:active {
      transform: translateY(-1px) scale(0.98);
    }

    /* Download CV Button - Gradient & Bouncing Effect */
    .btn-download {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 50%, #6d28d9 100%);
      border: none;
      color: white;
      font-weight: 700;
      animation: bounce 2.8s var(--ease-spring) infinite;
      box-shadow: 0 5px 20px var(--accent-glow);
      position: relative;
      overflow: hidden;
    }

    .btn-download::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .btn-download:hover::before {
      left: 100%;
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0) scale(1);
      }

      45% {
        transform: translateY(-8px) scale(1.02);
      }

      65% {
        transform: translateY(0) scale(0.99);
      }
    }

    .btn-download:hover {
      animation: none;
      transform: translateY(-4px) scale(1.06);
      box-shadow: 0 15px 50px rgba(59, 130, 246, 0.8);
      background: linear-gradient(135deg, #2563EB 0%, #1D4ED8 50%, #1E40AF 100%);
    }

    .btn-download:active {
      transform: translateY(-2px) scale(1.01);
    }

    /* Social Links */
    .social-links {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      margin-top: 3rem;
      flex-wrap: wrap;
    }

    .social-link {
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(59, 130, 246, 0.1);
      border: 2px solid var(--accent);
      border-radius: 12px;
      color: var(--accent);
      font-size: 1.8rem;
      transition: background 240ms ease, transform 240ms var(--ease-spring), box-shadow 240ms ease, border-color 240ms ease;
      text-decoration: none;
      position: relative;
      will-change: transform;
    }

    [data-theme="light"] .social-link {
      background: rgba(37, 99, 235, 0.08);
    }

    .social-link i {
      color: var(--accent);
      z-index: 1;
      transition: color 0.3s ease, transform 0.3s ease;
    }

    .social-link:hover {
      background: var(--accent);
      transform: translateY(-5px) scale(1.08);
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
    }

    .social-link:active {
      transform: translateY(-2px) scale(1.03);
    }

    .social-link:hover i {
      color: white;
    }

    /* Scroll Indicator - Minimal Line Style */
    .scroll-indicator {
      position: fixed;
      bottom: 3rem;
      left: 3rem;
      transform: none;
      z-index: 100;
      text-align: center;
      cursor: pointer;
      transition: opacity 300ms ease, transform 300ms ease;
      opacity: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.75rem;
    }

    .scroll-indicator:hover {
      opacity: 0.7;
    }

    .scroll-indicator:active {
      transform: scale(0.95);
    }

    .scroll-line {
      width: 1px;
      height: 60px;
      background: linear-gradient(to bottom, transparent, var(--text-primary));
      position: relative;
      overflow: hidden;
    }

    .scroll-line::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 20px;
      background: var(--accent);
      animation: scrollLine 1.8s ease-in-out infinite;
    }

    @keyframes scrollLine {
      0% {
        top: -20px;
        opacity: 0;
      }

      30% {
        opacity: 1;
      }

      100% {
        top: 60px;
        opacity: 0;
      }
    }

    .scroll-text {
      color: var(--text-primary);
      font-size: 0.7rem;
      font-weight: 400;
      letter-spacing: 2px;
      text-transform: uppercase;
      opacity: 0.6;
    }

    @media (prefers-reduced-motion: reduce) {
      .scroll-indicator {
        animation: none !important;
        transition: none;
      }

      .scroll-indicator:hover {
        transform: translateX(-50%);
      }

      .scroll-line::after {
        animation: none;
      }
    }

    /* Section Styling */
    section {
      min-height: 100vh;
      padding: 5rem 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .section-container {
      max-width: 1200px;
      width: 100%;
    }

    .section-title {
      font-size: 4.5rem;
      font-weight: 800;
      margin-bottom: 3rem;
      position: relative;
      display: inline-block;
      font-family: var(--font-body);
      letter-spacing: -0.04em;
    }



    .section-title .letter {
      display: inline-block;
      transition: color 0.1s ease;
    }

    .section-title .letter.scrambling {
      color: var(--accent);
      animation: flicker 0.1s infinite;
    }

    @keyframes flicker {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.5;
      }
    }

    /* Profile Image in About Section */
    .about-content {
      display: grid;
      grid-template-columns: 1fr 380px;
      gap: 3rem;
      align-items: start;
    }

    .about-text-column {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .about-paragraph {
      color: var(--text-secondary);
      line-height: 1.8;
      font-size: 1.05rem;
      margin-bottom: 1rem;
    }

    .about-paragraph strong {
      color: var(--text-primary);
    }

    /* Scroll-Reveal Text Highlighting */
    .scroll-reveal-text {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 1.75rem;
      line-height: 1.6;
      text-align: center;
      font-weight: 400;
      margin-bottom: 2rem;
    }

    @media (max-width: 768px) {
      .scroll-reveal-text {
        font-size: 1.35rem;
      }
    }

    .scroll-reveal-text .reveal-word {
      display: inline;
      color: var(--text-secondary);
      opacity: 0.45;
      /* Increased opacity so unhighlighted text is readable */
      transition: opacity 0.3s ease, color 0.3s ease;
    }

    .scroll-reveal-text .reveal-word.highlighted {
      opacity: 1;
      color: var(--text-primary);
    }

    .scroll-reveal-text .reveal-word.highlighted strong,
    .scroll-reveal-text .reveal-word strong.highlighted {
      color: var(--text-primary);
      opacity: 1;
    }

    .scroll-reveal-text a.reveal-word.highlighted,
    .scroll-reveal-text .reveal-word.highlighted a {
      color: var(--accent);
      opacity: 1;
    }

    .inline-link {
      color: var(--accent);
      text-decoration: none;
      position: relative;
      transition: color 0.2s ease;
    }

    .inline-link::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100%;
      height: 1px;
      background: var(--accent);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s ease;
    }

    .inline-link:hover::after {
      transform: scaleX(1);
      transform-origin: left;
    }

    .tech-list-minimal {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
      padding-left: 0;
      list-style: none;
      margin-top: 1rem;
    }

    .tech-list-minimal li {
      color: var(--text-secondary);
      font-size: 0.95rem;
      font-family: 'Fira Code', monospace;
      position: relative;
      padding-left: 1.25rem;
    }

    .tech-list-minimal li::before {
      content: '▹';
      position: absolute;
      left: 0;
      color: var(--accent);
    }

    /* Education Timeline - Stacked Cards */
    .education-timeline {
      margin-top: 3.5rem;
      padding-left: 0;
      border-left: none;
      display: flex;
      flex-direction: column;
      gap: 0;
      position: relative;
      height: 250px;
    }

    .education-item {
      position: absolute;
      width: 100%;
      display: flex;
      flex-direction: column;
      padding: 1.5rem 2rem;
      border: 1px solid var(--border);
      border-radius: 20px;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      transform-origin: center top;
      background: var(--card-bg);
    }

    /* Bottom card (B.Sc. - second item) */
    .education-item:last-child {
      top: 0;
      z-index: 1;
      transform: scale(0.94);
      opacity: 0.8;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }

    /* Top card (M.Sc. - first item) */
    .education-item:first-child {
      top: 50px;
      z-index: 2;
      transform: scale(1);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
    }

    /* Hover: Fan out the cards */
    .education-timeline:hover .education-item:last-child {
      transform: scale(0.97) translateY(-50px);
      opacity: 1;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
    }

    .education-timeline:hover .education-item:first-child {
      transform: scale(0.97) translateY(50px);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    /* Light mode */
    [data-theme="light"] .education-item:last-child {
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
    }

    [data-theme="light"] .education-item:first-child {
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08);
    }

    /* Mobile: Stack normally */
    @media (max-width: 768px) {
      .education-timeline {
        height: auto;
        gap: 1rem;
      }

      .education-item {
        position: relative !important;
        top: auto !important;
        transform: none !important;
        opacity: 1 !important;
      }

      .education-timeline:hover .education-item:last-child,
      .education-timeline:hover .education-item:first-child {
        transform: none !important;
      }

      [data-theme="light"] .education-item {
        background: rgba(255, 255, 255, 0.9) !important;
      }
    }

    .education-dot {
      display: none;
    }

    .education-content {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }

    .education-degree {
      color: var(--text-primary);
      font-weight: 700;
      font-size: 1.1rem;
      letter-spacing: -0.01em;
    }

    .education-school {
      color: var(--accent);
      font-size: 0.95rem;
      font-family: var(--font-body);
      font-weight: 600;
    }

    .education-meta {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--text-secondary);
      font-size: 0.85rem;
      font-family: var(--font-body);
      margin-top: 0.5rem;
      padding-top: 0.75rem;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    [data-theme="light"] .education-meta {
      border-top-color: rgba(0, 0, 0, 0.05);
    }

    .education-location {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .education-location i {
      font-size: 0.75rem;
      color: var(--accent);
    }

    .education-date {
      color: var(--text-secondary);
    }

    .about-right-column {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .left-column {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .right-column {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .info-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      transition: border-color 0.3s ease, transform 0.3s ease;
    }

    [data-theme="light"] .info-card {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .info-card:hover {
      border-color: rgba(59, 130, 246, 0.3);
    }

    @media (min-width: 768px) {
      .info-card:hover {
        transform: translateY(-3px);
      }
    }

    [data-theme="light"] .info-card:hover {
      border-color: var(--accent);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
    }

    @media (prefers-reduced-motion: reduce) {
      .info-card {
        transition: none;
      }

      .info-card:hover {
        transform: none;
      }
    }

    .info-card h4 {
      color: var(--accent);
      font-size: 1rem;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .info-card-content {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .stat-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1rem;
    }

    .stat-item {
      text-align: center;
      padding: 1rem;
      background: rgba(59, 130, 246, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(59, 130, 246, 0.1);
    }

    .stat-number {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--accent);
      display: block;
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--text-secondary);
      margin-top: 0.25rem;
    }

    .profile-container {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 280px;
      height: 280px;
    }

    .profile-frame {
      position: relative;
      width: 250px;
      height: 250px;
    }

    /* Corner brackets */
    .profile-frame::before,
    .profile-frame::after,
    .profile-frame-inner::before,
    .profile-frame-inner::after {
      content: '';
      position: absolute;
      width: 25px;
      height: 25px;
      border: 2px solid var(--accent);
      transition: all 0.3s ease;
    }

    .profile-frame::before {
      top: -10px;
      left: -10px;
      border-right: none;
      border-bottom: none;
    }

    .profile-frame::after {
      top: -10px;
      right: -10px;
      border-left: none;
      border-bottom: none;
    }

    .profile-frame-inner::before {
      bottom: -10px;
      left: -10px;
      border-right: none;
      border-top: none;
    }

    .profile-frame-inner::after {
      bottom: -10px;
      right: -10px;
      border-left: none;
      border-top: none;
    }

    .profile-container:hover .profile-frame::before,
    .profile-container:hover .profile-frame::after,
    .profile-container:hover .profile-frame-inner::before,
    .profile-container:hover .profile-frame-inner::after {
      width: 35px;
      height: 35px;
    }

    .profile-frame-inner {
      position: absolute;
      width: 100%;
      height: 100%;
    }

    .profile-pic {
      width: 250px;
      height: 250px;
      border-radius: 0;
      object-fit: cover;
      filter: grayscale(100%) sepia(50%) hue-rotate(160deg) saturate(200%);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      z-index: 1;
    }

    .profile-container:hover .profile-pic {
      filter: grayscale(0%) sepia(0%) hue-rotate(0deg) saturate(100%);
    }

    .profile-glow {
      position: absolute;
      width: 280px;
      height: 280px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.2), transparent 70%);
      border-radius: 0;
      animation: glow-pulse 3s ease-in-out infinite;
    }

    @keyframes glow-pulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 0.5;
      }

      50% {
        transform: scale(1.05);
        opacity: 0.8;
      }
    }

    /* Tech Stack Minimal List */
    .tech-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.5rem 2rem;
      font-family: 'Fira Code', monospace;
      font-size: 0.85rem;
    }

    .tech-list-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--text-secondary);
    }

    .tech-list-item::before {
      content: '▹';
      color: var(--accent);
    }

    /* Scroll-Animated Border Wrapper for Projects Section */
    .projects-border-wrapper {
      position: relative;
      background: var(--bg-secondary);
      border-radius: 0;
      padding: 3rem 0;
      margin-left: 0;
      margin-right: 0;
      width: 100%;
      box-sizing: border-box;
      will-change: margin, border-radius;
    }

    .projects-border-wrapper .section-container {
      padding-left: 2rem;
      padding-right: 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .projects-border-wrapper::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      border: 2px solid var(--border);
      pointer-events: none;
    }

    [data-theme="light"] .projects-border-wrapper {
      background: #d8d5cd;
    }

    @media (max-width: 768px) {
      .projects-border-wrapper {
        padding: 2rem 0;
      }

      .projects-border-wrapper .section-container {
        padding-left: 1rem;
        padding-right: 1rem;
      }
    }

    /* 3D Project Display with Laptop Model */
    .project-3d-container {
      width: 100%;
      max-width: 760px;
      margin: 0 auto;
      perspective: 2000px;
      height: 560px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .project-3d-scene {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .project-card:hover .project-3d-scene {
      transform: rotateY(-8deg) rotateX(5deg);
    }

    .laptop-model-wrap {
      position: relative;
      width: 100%;
      max-width: 720px;
      height: 540px;
      transform: translateZ(110px) scale(1.35);
      transform-style: preserve-3d;
    }

    .laptop-hover-preview {
      position: absolute;
      left: 50%;
      top: 44%;
      width: 320px;
      max-width: 78%;
      height: auto;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      box-shadow: 0 20px 46px rgba(8, 12, 20, 0.55);
      opacity: 0;
      transform: translate(-50%, -50%) translateY(18px) scale(0.96);
      transition: opacity 0.25s ease, transform 0.25s ease;
      pointer-events: none;
      z-index: 6;
      background: rgba(10, 14, 20, 0.5);
      backdrop-filter: blur(6px);
    }

    /* Smaller hover hitbox: only the laptop screen hotspot triggers the preview */
    .laptop-preview-hotspot {
      position: absolute;
      left: 50%;
      top: 44%;
      width: 150px;
      height: 92px;
      transform: translate(-50%, -50%);
      border-radius: 10px;
      background: transparent;
      pointer-events: auto;
      z-index: 7;
    }

    @media (max-width: 900px) {
      .laptop-preview-hotspot {
        width: 120px;
        height: 74px;
      }
    }

    /* Only show preview after the turn-around reveal finishes */
    .laptop-model-wrap.is-ready .laptop-preview-hotspot:hover~.laptop-hover-preview {
      opacity: 1;
      transform: translate(-50%, -50%) translateY(-18px) scale(1);
    }

    @media (max-width: 900px) {
      .laptop-hover-preview {
        width: 220px;
      }
    }

    @media (max-width: 768px) {
      .laptop-hover-preview {
        display: none;
      }

      .laptop-preview-hotspot {
        display: none;
      }
    }

    model-viewer.laptop-model {
      width: 100%;
      height: 100%;
      background: transparent;
      --poster-color: transparent;
      --progress-bar-color: transparent;
      --progress-bar-height: 0px;
      opacity: 0;
      transition: opacity 0.4s ease-in-out;
    }

    model-viewer.laptop-model.texture-applied {
      opacity: 1;
    }

    /* Hide the default model-viewer progress bar (black line) */
    model-viewer.laptop-model::part(default-progress-bar) {
      display: none !important;
      height: 0 !important;
      opacity: 0 !important;
    }



    /* Floating background elements for depth */
    .project-bg-layer {
      position: absolute;
      width: 80%;
      height: 80%;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.05));
      border-radius: 20px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) translateZ(-50px);
      transition: all 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
      border: 1px solid rgba(59, 130, 246, 0.1);
    }

    .project-card:hover .project-bg-layer {
      transform: translate(-50%, -50%) translateZ(-80px) scale(1.05);
    }

    .btn-readmore {
      position: relative;
      overflow: hidden;
    }

    /* Project card CTA row */
    .project-cta-row {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      align-items: center;
    }

    /* Grouped "Case Study" + redirect icon */
    .btn-readmore-group {
      position: relative;
      display: inline-flex;
      align-items: stretch;
      overflow: hidden;
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      transform: translateY(0);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .btn-readmore-group:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .btn-readmore-main {
      display: inline-flex;
      align-items: center;
      gap: 0.55rem;
      padding: 0.75rem 1.4rem;
      font-size: 0.95rem;
      font-weight: 700;
      letter-spacing: 0.01em;
      text-decoration: none;
      color: #fff;
      background: transparent;
      white-space: nowrap;
    }

    .btn-readmore-main i {
      transition: transform 0.3s ease;
      font-size: 1.1rem;
    }

    .btn-readmore-group:hover .btn-readmore-main i {
      transform: translateX(2px);
    }

    .btn-readmore-redirect {
      width: 42px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      color: #fff;
      background: rgba(255, 255, 255, 0.08);
      border-left: 1px solid rgba(255, 255, 255, 0.12);
    }

    .btn-readmore-redirect i {
      font-size: 1rem;
      opacity: 0.85;
      transition: transform 0.25s ease, opacity 0.25s ease;
    }

    .btn-readmore-redirect:hover {
      background: rgba(255, 255, 255, 0.14);
    }

    .btn-readmore-redirect:hover i {
      transform: translate(1px, -1px);
      opacity: 1;
    }

    [data-theme="light"] .btn-readmore-group {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    [data-theme="light"] .btn-readmore-redirect {
      background: rgba(255, 255, 255, 0.18);
      border-left-color: rgba(0, 0, 0, 0.06);
    }

    /* Event identifier chip (logo + year) */
    .project-event-chip {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.35rem 0.85rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-secondary);
      font-size: 0.82rem;
      font-weight: 800;
      letter-spacing: 0.01em;
      backdrop-filter: blur(10px);
    }

    .project-event-chip img {
      height: 18px;
      width: auto;
      border-radius: 4px;
    }

    [data-theme="light"] .project-event-chip {
      background: rgba(255, 255, 255, 0.65);
      border-color: rgba(26, 26, 26, 0.12);
    }

    .btn-readmore-fittrack {
      background: linear-gradient(135deg, #c0392b, #962d22);
      color: #fff;
    }

    .btn-readmore-nasa {
      background: linear-gradient(135deg, #2563eb, #1d4ed8);
      color: #fff;
    }

    .btn-readmore::after {
      content: '';
      position: absolute;
      top: -120%;
      left: -60%;
      width: 220%;
      height: 220%;
      background: radial-gradient(circle at center, rgba(255, 255, 255, 0.25), transparent 60%);
      opacity: 0;
      transition: opacity 0.35s ease, transform 0.35s ease;
      transform: translateY(20%);
    }

    .btn-readmore:hover::after {
      opacity: 1;
      transform: translateY(0%);
    }

    .btn-readmore i {
      transition: transform 0.3s ease;
    }

    .btn-readmore:hover i {
      transform: translateX(4px);
    }

    /* Spotlight effect */
    .project-spotlight {
      position: absolute;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, rgba(59, 130, 246, 0.2), transparent 70%);
      border-radius: 50%;
      pointer-events: none;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) translateZ(100px);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .project-card:hover .project-spotlight {
      opacity: 1;
    }

    /* 3D Mobile Display */
    .mobile-3d-container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      perspective: 2000px;
      height: 600px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      gap: 2rem;
    }

    .mobile-3d-scene {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
    }

    .project-card:hover .mobile-3d-scene {
      transform: rotateY(8deg) rotateX(-3deg);
    }

    .mobile-device {
      position: relative;
      width: 240px;
      height: 490px;
      background: #1a1a1a;
      border-radius: 50px;
      padding: 12px;
      box-shadow:
        0 50px 100px rgba(0, 0, 0, 0.5),
        inset 0 0 6px rgba(255, 255, 255, 0.1);
      transform: translateZ(50px);
      transition: all 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
      flex-shrink: 0;
    }

    .project-card:hover .mobile-device {
      transform: translateZ(80px);
    }

    /* Stacked phones - side by side */
    .mobile-device:first-of-type {
      transform: translateZ(50px) translateX(-10px);
    }

    .mobile-device:last-of-type {
      transform: translateZ(50px) translateX(10px);
    }

    .project-card:hover .mobile-device:first-of-type {
      transform: translateZ(80px) translateX(-15px);
    }

    .project-card:hover .mobile-device:last-of-type {
      transform: translateZ(80px) translateX(15px);
    }

    /* Stacked phones vertically - front and back */
    .mobile-stacked {
      position: relative;
    }

    .mobile-stacked .mobile-device {
      position: absolute;
    }

    .mobile-stacked .mobile-device:nth-child(2) {
      left: 20%;
      top: 50%;
      transform: translate(-50%, -50%) translateZ(30px) rotateY(-15deg) scale(0.95);
      z-index: 1;
    }

    .mobile-stacked .mobile-device:nth-child(3) {
      left: 80%;
      top: 50%;
      transform: translate(-50%, -50%) translateZ(70px) rotateY(10deg);
      z-index: 2;
    }

    .project-card:hover .mobile-stacked .mobile-device:nth-child(2) {
      transform: translate(-50%, -50%) translateZ(20px) rotateY(-20deg) scale(0.95);
      left: 15%;
    }

    .project-card:hover .mobile-stacked .mobile-device:nth-child(3) {
      transform: translate(-50%, -50%) translateZ(90px) rotateY(15deg);
      left: 85%;
    }

    .mobile-notch {
      position: absolute;
      top: 12px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 20px;
      background: #1a1a1a;
      border-radius: 0 0 15px 15px;
      z-index: 10;
    }

    .mobile-screen {
      width: 100%;
      height: 100%;
      background: #000;
      border-radius: 42px;
      overflow: hidden;
      position: relative;
    }

    .mobile-screen img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      background: #000;
      transition: transform 0.6s ease;
    }

    .project-card:hover .mobile-screen img {
      transform: scale(1.05);
    }

    /* Mobile background layer */
    .mobile-bg-layer {
      position: absolute;
      width: 400px;
      height: 450px;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.05));
      border-radius: 50px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) translateZ(-50px);
      transition: all 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
      border: 1px solid rgba(59, 130, 246, 0.1);
    }

    .project-card:hover .mobile-bg-layer {
      transform: translate(-50%, -50%) translateZ(-80px) scale(1.05);
    }

    /* Project Cards */
    .project-grid {
      display: flex;
      flex-direction: column;
      gap: 3rem;
      margin-top: 2rem;
    }

    .project-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 1.5rem;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
      align-items: center;
      width: 100%;
      margin: 0 auto;
    }

    @media (min-width: 900px) {
      .project-card {
        grid-template-columns: 1fr 1fr;
        gap: 3rem;
        padding: 2rem;
      }
    }

    [data-theme="light"] .project-card {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      backdrop-filter: none;
    }

    .project-card:hover {
      border-color: var(--border);
      box-shadow: none;
    }

    [data-theme="light"] .project-card:hover {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    }

    .project-card.reverse {
      grid-template-columns: 1fr 1fr;
    }

    .project-visual {
      order: 1;
    }

    .project-info {
      order: 2;
      position: relative;
      z-index: 10;
    }

    .project-card.reverse .project-visual {
      order: 2;
    }

    .project-card.reverse .project-info {
      order: 1;
    }

    .project-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 1rem 0;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.6rem;
      flex-wrap: wrap;
    }

    .project-badge-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 0.6rem;
    }

    .project-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      font-size: 0.7rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-family: 'Fira Code', monospace;
      border: 1px solid transparent;
      backdrop-filter: blur(6px);
      animation: badgePulse 4s ease-in-out infinite;
    }

    .project-badge i {
      font-size: 0.95rem;
    }

    .project-badge.finalist {
      color: #f2c94c;
      border-color: rgba(242, 201, 76, 0.4);
      background: rgba(242, 201, 76, 0.12);
      box-shadow: 0 0 20px rgba(242, 201, 76, 0.18);
    }

    .project-badge.winner {
      color: #f2c94c;
      border-color: rgba(242, 201, 76, 0.5);
      background: linear-gradient(135deg, rgba(242, 201, 76, 0.18), rgba(255, 215, 0, 0.1));
      box-shadow: 0 0 25px rgba(242, 201, 76, 0.25), 0 0 50px rgba(242, 201, 76, 0.08);
    }

    .project-badge.honorable {
      color: #ff8a65;
      border-color: rgba(255, 138, 101, 0.4);
      background: rgba(255, 138, 101, 0.12);
      box-shadow: 0 0 20px rgba(255, 138, 101, 0.18);
    }

    [data-theme="light"] .project-badge.finalist {
      color: #8c6000;
      border-color: rgba(140, 96, 0, 0.4);
      background: rgba(140, 96, 0, 0.08);
    }

    [data-theme="light"] .project-badge.winner {
      color: #8c6000;
      border-color: rgba(140, 96, 0, 0.5);
      background: linear-gradient(135deg, rgba(140, 96, 0, 0.12), rgba(184, 134, 11, 0.05));
    }

    [data-theme="light"] .project-badge.honorable {
      color: #c43c00;
      border-color: rgba(196, 60, 0, 0.4);
      background: rgba(196, 60, 0, 0.08);
    }

    @keyframes badgePulse {

      0%,
      100% {
        transform: translateY(0);
        opacity: 0.95;
      }

      50% {
        transform: translateY(-1px);
        opacity: 1;
      }
    }

    .project-title-logo {
      height: 30px;
      width: auto;
      display: inline-block;
      filter: drop-shadow(0 2px 10px rgba(59, 130, 246, 0.35));
    }

    @media (max-width: 480px) {
      .hero-name-section {
        top: 80px;
        left: 15px;
      }

      .hero-name-section h1 {
        font-size: 1.8rem;
        letter-spacing: -1px;
      }

      .hero-name-section .typing-subtitle {
        font-size: 0.85rem;
      }

      .hero-buttons {
        top: 80px;
        right: 15px;
        flex-direction: column;
        gap: 0.5rem;
      }

      .hero-buttons .btn {
        padding: 0.5rem 0.75rem;
        font-size: 0.7rem;
      }

      .hero-buttons .btn i {
        display: none;
      }

      .hero-social-links {
        bottom: 15px;
        right: 15px;
        gap: 0.5rem;
      }

      .hero-social-link {
        font-size: 1.2rem;
        width: 40px;
        height: 40px;
      }

      .hero-social-link .social-logo {
        width: 20px;
        height: 20px;
      }

      .project-title-logo {
        height: 26px;
      }
    }

    [data-theme="light"] .project-title-logo {
      filter: drop-shadow(0 2px 8px rgba(37, 99, 235, 0.18));
    }

    .project-description {
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }

    .tech-stack {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .tech-tag {
      padding: 0.5rem 1rem;
      background: rgba(45, 212, 191, 0.1);
      border: 1px solid rgba(45, 212, 191, 0.3);
      border-radius: 20px;
      font-size: 0.875rem;
      color: #2dd4bf;
      transition: all 0.2s ease;
    }

    .tech-tag:hover {
      background: rgba(45, 212, 191, 0.2);
      transform: translateY(-2px);
    }

    [data-theme="light"] .tech-tag {
      background: rgba(20, 184, 166, 0.1);
      border-color: rgba(20, 184, 166, 0.3);
      color: #0d9488;
    }

    [data-theme="light"] .tech-tag:hover {
      background: rgba(20, 184, 166, 0.2);
    }

    /* Research Cards */
    .research-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
      margin-top: 2rem;
    }

    /* Research Left Panel — USDA-Style */
    .research-intro {
      padding: 0;
    }

    .research-intro h2 {
      font-family: var(--font-heading), system-ui, sans-serif;
      font-size: clamp(3rem, 5vw, 4.2rem);
      font-weight: 700;
      line-height: 1.05;
      color: var(--text-primary);
      margin: 0 0 1.5rem 0;
      letter-spacing: -0.04em;
    }

    .research-intro-desc {
      font-family: var(--font-body), sans-serif;
      font-size: 0.92rem;
      line-height: 1.75;
      color: var(--text-secondary);
      opacity: 0.75;
      margin: 0 0 2.2rem 0;
      max-width: 95%;
    }

    /* CTA Button */
    .research-cta {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.85rem 2rem;
      background: var(--text-primary);
      color: var(--bg-primary);
      border-radius: 999px;
      text-decoration: none;
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: -0.01em;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      margin-bottom: 3.5rem;
    }

    .research-cta:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(255, 255, 255, 0.15);
    }

    .research-cta i {
      font-size: 1rem;
      transition: transform 0.25s ease;
    }

    .research-cta:hover i {
      transform: translateX(3px);
    }

    /* Download / Link List */
    .research-downloads {
      display: flex;
      flex-direction: column;
      margin-top: 0;
    }

    .research-download-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      padding: 1.25rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.95rem;
      font-weight: 500;
      line-height: 1.4;
      transition: all 0.2s ease;
    }

    .research-download-item:first-child {
      border-top: 1px solid rgba(255, 255, 255, 0.08);
    }

    .research-download-item:hover {
      color: var(--text-primary);
    }

    .research-download-item .download-arrow {
      flex-shrink: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.05);
      font-size: 0.9rem;
      transition: all 0.25s ease;
      color: var(--text-primary);
    }

    .research-download-item:hover .download-arrow {
      background: var(--text-primary);
      color: var(--bg-primary);
      transform: translateX(4px);
    }

    .research-download-item span {
      flex: 1;
    }

    /* Disclaimer / footnote */
    .research-footnote {
      font-size: 0.7rem;
      color: var(--text-secondary);
      opacity: 0.4;
      margin-top: 1.5rem;
      line-height: 1.5;
    }

    /* ============================================
       RESEARCH SPLIT — Side-by-Side Layout
       ============================================ */
    .research-split {
      display: flex;
      gap: 4rem;
      position: relative;
      min-height: 200vh;
    }

    .research-left {
      width: 35%;
      flex-shrink: 0;
      position: sticky;
      top: 15vh;
      height: fit-content;
      align-self: flex-start;
      z-index: 10;
      pointer-events: auto;
    }

    .research-right {
      flex: 1;
      position: relative;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding-top: 0;
    }

    /* ============================================
       STACKING CARDS — Scroll-Driven Effect
       ============================================ */
    .stack-cards-wrapper {
      position: sticky;
      top: 10vh;
      height: 80vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .stack-cards-container {
      position: relative;
      width: min(480px, 100%);
      height: min(580px, 68vh);
    }

    .stack-card {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 24px;
      padding: 2.2rem 2.5rem;
      display: flex;
      flex-direction: column;
      cursor: pointer;
      will-change: transform;
      box-shadow: 6px -6px 18px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      transform: translateX(120vw);
      transition: box-shadow 0.3s ease;
    }

    .stack-card:hover {
      box-shadow: 10px -10px 30px rgba(0, 0, 0, 0.25);
      scale: 1.04;
      transition: scale 0.3s ease, box-shadow 0.3s ease;
    }

    /* Card color themes */
    .stack-card-1 {
      background: #f5f0e8;
      color: #1a1a1a;
      z-index: 1;
    }

    .stack-card-2 {
      background: #111111;
      color: #f0f0f0;
      z-index: 2;
    }

    .stack-card-3 {
      background: #0c3b2e;
      color: #e8e8e8;
      z-index: 3;
    }

    .stack-card-4 {
      background: linear-gradient(135deg, #1e3a5f 0%, #2563eb 100%);
      color: #ffffff;
      z-index: 4;
    }

    /* Card inner layout — structured to prevent overlap */
    .stack-card-inner {
      display: flex;
      flex-direction: column;
      height: 100%;
      position: relative;
      z-index: 1;
    }

    /* Header row: title + icons side by side */
    .stack-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
      margin-bottom: 0.8rem;
    }

    .stack-card-header h3 {
      font-family: 'DM Serif Display', 'Playfair Display', var(--font-hero), serif;
      font-size: clamp(1.4rem, 2.2vw, 1.85rem);
      font-weight: 400;
      line-height: 1.2;
      margin: 0;
      flex: 1;
      letter-spacing: -0.01em;
    }

    .stack-card-actions {
      display: flex;
      gap: 0.6rem;
      flex-shrink: 0;
      padding-top: 0.3rem;
    }

    .stack-card-actions a {
      color: inherit;
      font-size: 1.2rem;
      opacity: 0.45;
      transition: opacity 0.2s ease, transform 0.2s ease;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2rem;
      height: 2rem;
      border-radius: 8px;
      background: rgba(128, 128, 128, 0.1);
    }

    .stack-card-actions a:hover {
      opacity: 1;
      transform: scale(1.1);
      background: rgba(128, 128, 128, 0.2);
    }

    /* Meta info (status badge) */
    .stack-card-meta {
      margin-bottom: 0.6rem;
    }

    .stack-card-status {
      font-size: 0.75rem;
      font-weight: 600;
      padding: 0.3rem 0.75rem;
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
      border-radius: 999px;
      display: inline-block;
      letter-spacing: 0.02em;
    }

    /* Description paragraph */
    .stack-card-desc {
      font-family: var(--font-body), sans-serif;
      font-size: 0.85rem;
      line-height: 1.6;
      opacity: 0.7;
      flex: 1;
      margin: 0;
      max-width: 95%;
    }

    /* Tags at bottom */
    .stack-card-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
      margin-top: auto;
      padding-top: 1rem;
    }

    .stack-card-tags span {
      font-size: 0.65rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      opacity: 0.5;
      padding: 0.25rem 0.6rem;
      border: 1px solid currentColor;
      border-radius: 999px;
    }

    /* Source label */
    .stack-card-source {
      font-size: 0.65rem;
      opacity: 0.3;
      letter-spacing: 0.05em;
      margin-top: 0.8rem;
    }

    /* Mobile responsive */
    @media (max-width: 768px) {
      .research-split {
        flex-direction: column;
        min-height: auto;
        gap: 1.5rem;
      }

      .research-left {
        width: 100%;
        position: relative;
        top: auto;
      }

      .research-right {
        padding-top: 0;
      }

      .stack-cards-wrapper {
        position: relative;
        top: auto;
        height: auto;
        flex-direction: column;
        gap: 1.5rem;
        padding: 0;
      }

      .stack-cards-container {
        position: relative;
        width: 100%;
        height: auto;
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .stack-card {
        position: relative !important;
        transform: none !important;
        width: 100%;
        height: auto;
        min-height: 280px;
      }

      .stack-card-header h3 {
        font-size: 1.3rem;
      }
    }

    /* Research Details Below Canvas */
    .research-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
      margin-top: 2rem;
    }

    .research-detail-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 2rem;
      transition: all 0.3s ease;
    }

    .research-detail-card:hover {
      border-color: var(--accent);
      transform: translateY(-5px);
      box-shadow: 0 20px 60px rgba(59, 130, 246, 0.3);
    }

    .research-detail-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent), #a855f7);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .research-detail-icon i {
      font-size: 1.75rem;
      color: white;
    }

    .research-detail-card h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 1rem 0;
      color: var(--text-primary);
    }

    .research-detail-card p {
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }

    .research-detail-card .tech-stack {
      margin-bottom: 1.5rem;
    }

    /* Old research card styles (keep for backwards compatibility) */

    .research-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 2.5rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .research-card:hover {
      border-color: var(--accent);
      transform: translateY(-5px);
      box-shadow: 0 20px 60px rgba(59, 130, 246, 0.3);
    }

    .research-icon {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--accent), #a855f7);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.5rem;
    }

    .research-icon i {
      font-size: 2rem;
      color: white;
    }

    .research-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .research-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 1rem 0;
      color: var(--text-primary);
    }

    .research-description {
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 1.5rem;
      flex: 1;
    }

    .research-card .tech-stack {
      margin-bottom: 1.5rem;
    }

    .research-card .btn {
      align-self: flex-start;
    }

    /* Orbiting Tech Stack */
    .orbit-container {
      position: relative;
      width: 300px;
      height: 300px;
      margin: 2rem auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .orbit-center {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--accent), #60A5FA);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      font-weight: bold;
      box-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
      z-index: 10;
      position: relative;
    }

    .orbit-ring {
      position: absolute;
      border: 1px solid rgba(59, 130, 246, 0.2);
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .orbit-ring-1 {
      width: 160px;
      height: 160px;
    }

    .orbit-ring-2 {
      width: 240px;
      height: 240px;
    }

    .orbit-icon {
      position: absolute;
      width: 50px;
      height: 50px;
      background: var(--card-bg);
      border: 2px solid rgba(59, 130, 246, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      cursor: pointer;
      padding: 8px;
    }

    [data-theme="light"] .orbit-icon {
      border-color: rgba(37, 99, 235, 0.25);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .orbit-icon:hover {
      transform: scale(1.2);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.5);
      border-color: #60A5FA;
    }

    [data-theme="light"] .orbit-icon:hover {
      box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
    }

    @media (prefers-reduced-motion: reduce) {
      .orbit-icon {
        transition: none;
        animation: none !important;
      }

      .orbit-icon:hover {
        transform: scale(1.05);
      }

      .orbit-ring-1,
      .orbit-ring-2 {
        animation: none !important;
      }
    }

    .orbit-icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.3));
    }

    .orbit-icon i {
      font-size: 1.8rem;
      color: var(--accent);
    }

    .orbit-icon-text {
      position: absolute;
      bottom: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.7rem;
      color: var(--text-secondary);
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .orbit-icon:hover .orbit-icon-text {
      opacity: 1;
    }

    /* Animation for orbiting */
    @keyframes orbit {
      from {
        transform: rotate(0deg) translateX(var(--orbit-radius)) rotate(0deg);
      }

      to {
        transform: rotate(360deg) translateX(var(--orbit-radius)) rotate(-360deg);
      }
    }

    .orbit-item {
      position: absolute;
      top: 50%;
      left: 50%;
      animation: orbit var(--orbit-duration) linear infinite;
    }

    /* ============================================
       EXPERIENCE SECTION - Vertical Timeline with Tilted Cards
       ============================================ */

    #experience {
      position: relative;
      overflow: visible;
      padding-top: 4rem;
      /* Extra whitespace after Projects section standardized */
    }

    #experience .section-container {
      max-width: 1100px;
    }

    /* Timeline Container */
    .experience-timeline {
      position: relative;
      padding: 3rem 0;
      margin-top: 2rem;
      margin-bottom: 4rem;
      /* Whitespace before Research section standardized */
    }

    /* Removed excessive Research Section spacing */
    /* Center Line - Base Track */
    .experience-timeline::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 3px;
      height: 100%;
      background: var(--border);
      z-index: 0;
    }

    /* Center Line - Progress Indicator */
    .experience-timeline::after {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 3px;
      height: var(--timeline-progress, 0%);
      background: linear-gradient(to bottom, var(--accent) 0%, var(--accent-hover) 100%);
      box-shadow: 0 0 12px var(--accent-glow);
      border-radius: 4px;
      z-index: 1;
      transition: height 0.1s ease-out;
    }

    /* Timeline Item Container */
    .exp-timeline-item {
      position: relative;
      display: flex;
      margin-bottom: 4rem;
    }

    .exp-timeline-item:last-child {
      margin-bottom: 0;
    }

    /* Alternating Layout */
    .exp-timeline-item:nth-child(odd) {
      justify-content: flex-start;
      padding-right: calc(50% + 40px);
    }

    .exp-timeline-item:nth-child(even) {
      justify-content: flex-end;
      padding-left: calc(50% + 40px);
    }

    /* Timeline Dot - Center */
    .exp-timeline-dot {
      position: absolute;
      left: 50%;
      top: 30px;
      transform: translateX(-50%);
      width: 20px;
      height: 20px;
      background: var(--bg-primary);
      border: 3px solid var(--border);
      border-radius: 50%;
      z-index: 10;
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .exp-timeline-dot::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 0;
      height: 0;
      background: var(--accent);
      border-radius: 50%;
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    /* Active Dot State */
    .exp-timeline-item.active .exp-timeline-dot {
      border-color: var(--accent);
      box-shadow: 0 0 20px var(--accent-glow);
      transform: translateX(-50%) scale(1.2);
    }

    .exp-timeline-item.active .exp-timeline-dot::after {
      width: 8px;
      height: 8px;
    }

    /* Experience Card */
    .exp-card {
      position: relative;
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 24px;
      padding: 1.75rem;
      width: 100%;
      transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      will-change: transform, opacity;
      box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.1),
        0 15px 30px -10px rgba(0, 0, 0, 0.2);
    }

    [data-theme="light"] .exp-card {
      background: rgba(255, 255, 255, 0.9);
      box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.05),
        0 15px 30px -10px rgba(0, 0, 0, 0.12);
    }

    /* Tilted States - Before progress line reaches */
    .exp-timeline-item:nth-child(odd) .exp-card {
      transform: rotate(-3deg) translateX(-10px);
      opacity: 0.75;
    }

    .exp-timeline-item:nth-child(even) .exp-card {
      transform: rotate(3deg) translateX(10px);
      opacity: 0.75;
    }

    /* Straightened State - When progress line passes dot */
    .exp-timeline-item.active .exp-card {
      transform: rotate(0deg) translateX(0);
      opacity: 1;
    }

    .exp-timeline-item.active .exp-card:hover {
      transform: translateY(-6px) scale(1.02);
      box-shadow:
        0 8px 16px -4px rgba(0, 0, 0, 0.15),
        0 25px 50px -15px rgba(0, 0, 0, 0.25);
    }

    /* Card Header */
    .exp-card-header {
      margin-bottom: 1.25rem;
    }

    .exp-card-role {
      font-family: var(--font-hero);
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
      margin: 0 0 0.5rem 0;
      line-height: 1.3;
    }

    .exp-card-company {
      display: inline-block;
      font-size: 0.85rem;
      font-weight: 600;
      color: var(--accent);
      background: rgba(139, 115, 85, 0.15);
      padding: 0.3rem 0.75rem;
      border-radius: 16px;
      margin-bottom: 0.6rem;
    }

    [data-theme="light"] .exp-card-company {
      background: rgba(107, 91, 79, 0.12);
    }

    .exp-card-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      color: var(--text-secondary);
      font-size: 0.8rem;
    }

    .exp-card-date {
      display: flex;
      align-items: center;
      gap: 0.35rem;
    }

    .status-dot {
      width: 6px;
      height: 6px;
      background: #22c55e;
      border-radius: 50%;
      animation: pulse-status 2s ease-in-out infinite;
    }

    @keyframes pulse-status {

      0%,
      100% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.6;
        transform: scale(1.3);
      }
    }

    .exp-card-location {
      font-style: italic;
      opacity: 0.8;
    }

    /* Card Body */
    .exp-card-body {
      padding-top: 0.25rem;
    }

    .exp-card-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .exp-card-list li {
      position: relative;
      padding-left: 1.1rem;
      margin-bottom: 0.5rem;
      color: var(--text-secondary);
      line-height: 1.55;
      font-size: 0.85rem;
    }

    .exp-card-list li::before {
      content: '▸';
      position: absolute;
      left: 0;
      color: var(--accent);
      font-weight: bold;
      font-size: 0.8rem;
    }

    .exp-card-list li:last-child {
      margin-bottom: 0;
    }

    /* Card Number Badge */
    .exp-card-number {
      position: absolute;
      top: -10px;
      right: 16px;
      width: 32px;
      height: 32px;
      background: var(--accent);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Fira Code', monospace;
      font-size: 0.8rem;
      font-weight: 700;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      /* Subtle shadow instead of glow */
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {

      .experience-timeline::before,
      .experience-timeline::after {
        left: 20px;
      }

      .exp-timeline-item,
      .exp-timeline-item:nth-child(odd),
      .exp-timeline-item:nth-child(even) {
        padding-left: 50px;
        padding-right: 0;
        justify-content: flex-start;
      }

      .exp-timeline-dot {
        left: 20px;
      }

      .exp-card,
      .exp-timeline-item:nth-child(odd) .exp-card,
      .exp-timeline-item:nth-child(even) .exp-card {
        transform: rotate(0deg) translateX(0);
        opacity: 1;
      }

      .exp-card-role {
        font-size: 1.2rem;
      }

      .exp-card-number {
        width: 28px;
        height: 28px;
        font-size: 0.75rem;
        top: -8px;
        right: 12px;
      }
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-secondary);
    }

    ::-webkit-scrollbar-thumb {
      background: rgba(139, 92, 246, 0.4);
      border-radius: 5px;
      border: 2px solid var(--bg-secondary);
    }

    ::-webkit-scrollbar-thumb:hover {
      background: rgba(139, 92, 246, 0.6);
    }

    /* Firefox scrollbar */
    html {
      scrollbar-width: thin;
      scrollbar-color: rgba(139, 92, 246, 0.4) var(--bg-secondary);
    }

    /* Custom Text Selection */
    ::selection {
      background: rgba(139, 92, 246, 0.3);
      color: inherit;
    }

    ::-moz-selection {
      background: rgba(139, 92, 246, 0.3);
      color: inherit;
    }

    /* Footer */
    .site-footer {
      background: var(--bg-primary);
      border-top: 1px solid var(--border);
      padding: 1.5rem 0;
      text-align: center;
      margin-top: 3rem;
    }

    @media (min-width: 768px) {
      .site-footer {
        padding: 2rem 0;
        margin-top: 4rem;
      }
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    @media (min-width: 768px) {
      .footer-content {
        padding: 0 2rem;
      }
    }

    .footer-content p {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin: 0;
      line-height: 1.6;
    }

    @media (min-width: 768px) {
      .footer-content p {
        font-size: 0.95rem;
      }
    }

    [data-theme="light"] .footer-content p {
      color: rgba(0, 0, 0, 0.7);
    }

    .footer-link {
      color: var(--accent);
      text-decoration: none;
      transition: color 0.3s ease;
      position: relative;
    }

    .footer-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 1px;
      background: var(--accent);
      transition: width 0.3s ease;
    }

    .footer-link:hover {
      color: var(--accent-hover);
    }

    .footer-link:hover::after {
      width: 100%;
    }

    @media (prefers-reduced-motion: reduce) {

      .footer-link,
      .footer-link::after {
        transition: none;
      }
    }

    /* Contact Section */
    .contact-section {
      position: relative;
      padding: 4rem 0;
    }

    .contact-wrapper {
      max-width: 700px;
      margin: 0 auto;
      width: 100%;
    }

    .contact-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--accent);
      text-align: center;
      margin-bottom: 1rem;
      font-family: 'Courier New', monospace;
      letter-spacing: 2px;
      display: inline-block;
      width: 100%;
    }

    .contact-title .letter {
      display: inline-block;
      transition: color 0.1s ease;
    }

    .contact-title .letter.scrambling {
      color: var(--text-primary);
      animation: flicker 0.1s infinite;
    }

    .contact-subtitle {
      text-align: center;
      font-size: 1.1rem;
      color: var(--text-secondary);
      margin-bottom: 3rem;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Minimal Form Styles */
    .minimal-contact-form {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    @media (min-width: 600px) {
      .form-row {
        grid-template-columns: 1fr 1fr;
      }
    }

    .form-field {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .field-label {
      font-size: 0.85rem;
      font-weight: 500;
      color: var(--text-secondary);
    }

    .field-input-minimal {
      width: 100%;
      padding: 0.75rem 0;
      background: transparent;
      border: none;
      border-bottom: 1px solid var(--border);
      color: var(--text-primary);
      font-size: 1rem;
      transition: border-color 0.3s ease;
      outline: none;
    }

    .field-input-minimal:focus {
      border-bottom-color: var(--accent);
    }

    .field-input-minimal::placeholder {
      color: var(--text-secondary);
      opacity: 0.5;
    }

    textarea.field-input-minimal {
      resize: vertical;
      min-height: 80px;
      font-family: inherit;
    }

    /* Shoot Button */
    .shoot-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      width: fit-content;
      margin: 1.5rem auto 0;
      padding: 1rem 2.5rem;
      font-size: 0.9rem;
      font-weight: 600;
      letter-spacing: 2px;
      color: var(--accent);
      background: transparent;
      border: 1px solid var(--accent);
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      overflow: hidden;
      position: relative;
    }

    .shoot-btn:hover {
      background: rgba(59, 130, 246, 0.1);
    }

    .shoot-btn .btn-arrow {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      transition: transform 0.3s ease;
      line-height: 1;
      position: relative;
      top: -1px;
    }

    .shoot-btn:hover .btn-arrow {
      transform: translateX(8px);
    }

    .shoot-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Sending Animation */
    .shoot-btn.sending .btn-arrow {
      animation: arrowSend 1.4s ease-in-out;
    }

    @keyframes arrowSend {
      0% {
        transform: translateX(0) scale(1);
        opacity: 1;
      }

      20% {
        transform: translateX(80px) scale(1.2);
        opacity: 0;
      }

      21% {
        transform: translateX(-60px) scale(0.5);
        opacity: 0;
      }

      60% {
        transform: translateX(10px) scale(1.1);
        opacity: 1;
      }

      80% {
        transform: translateX(-5px) scale(1);
        opacity: 1;
      }

      100% {
        transform: translateX(0) scale(1);
        opacity: 1;
      }
    }

    .shoot-btn.success {
      border-color: #10b981;
      color: #10b981;
    }

    .shoot-btn.success .btn-arrow {
      color: #10b981;
    }

    /* Contact Info Cards - Clean, Personal Style */
    .contact-info-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    @media (min-width: 768px) {
      .contact-info-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .contact-info-card {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.25rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 10px;
      transition: border-color 0.2s ease, background 0.2s ease;
    }

    @media (min-width: 768px) {
      .contact-info-card {
        padding: 1.5rem;
      }
    }

    [data-theme="light"] .contact-info-card {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .contact-info-card:hover {
      border-color: rgba(59, 130, 246, 0.5);
      background: rgba(59, 130, 246, 0.03);
    }

    [data-theme="light"] .contact-info-card:hover {
      border-color: var(--accent);
      background: rgba(37, 99, 235, 0.02);
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.08);
    }

    .info-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 8px;
      flex-shrink: 0;
    }

    [data-theme="light"] .info-icon {
      border-color: rgba(0, 0, 0, 0.1);
    }

    .info-icon i {
      font-size: 1.25rem;
      color: var(--text-secondary);
    }

    @media (prefers-reduced-motion: reduce) {

      .contact-info-card,
      .field-input,
      .contact-submit-btn,
      .copy-btn {
        transition: none;
      }

      .field-input:focus {
        transform: none;
      }

      .contact-submit-btn:active {
        transform: none;
      }
    }

    .info-content {
      flex: 1;
      min-width: 0;
    }

    .info-label {
      font-size: 0.75rem;
      font-weight: 500;
      color: var(--text-secondary);
      margin: 0 0 0.25rem 0;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .info-value {
      font-size: 0.95rem;
      font-weight: 400;
      color: var(--text-primary);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .info-value:hover {
      color: var(--accent);
    }

    .info-value-with-copy {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .copy-btn {
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 6px;
      cursor: pointer;
      transition: background 220ms ease, border-color 220ms ease, transform 220ms var(--ease-spring);
      flex-shrink: 0;
    }

    [data-theme="light"] .copy-btn {
      border-color: rgba(0, 0, 0, 0.1);
    }

    .copy-btn:hover {
      background: rgba(59, 130, 246, 0.1);
      border-color: var(--accent);
      transform: translateY(-1px) scale(1.03);
    }

    .copy-btn:active {
      transform: translateY(0) scale(0.96);
    }

    [data-theme="light"] .copy-btn:hover {
      background: rgba(37, 99, 235, 0.08);
    }

    .copy-btn:hover i {
      color: var(--accent);
    }

    .copy-btn i {
      font-size: 0.875rem;
      color: var(--text-secondary);
      transition: color 0.2s ease;
    }

    .copy-btn.copied {
      background: rgba(16, 185, 129, 0.1);
      border-color: #10b981;
    }

    .copy-btn.copied i {
      color: #10b981;
    }

    /* Alert */
    .contact-alert {
      position: fixed;
      top: 100px;
      right: 2rem;
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
      z-index: 1000;
      animation: slideInRight 0.3s ease-out;
    }

    @keyframes slideInRight {
      from {
        transform: translateX(400px);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .contact-alert i {
      font-size: 1.5rem;
    }

    /* Form Container */
    .contact-form-container {
      background: var(--card-bg);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 2rem;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    @media (min-width: 768px) {
      .contact-form-container {
        padding: 2.5rem;
      }
    }

    [data-theme="light"] .contact-form-container {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    [data-theme="light"] .contact-form-container {
      background: rgba(255, 255, 255, 0.9);
      border-color: rgba(0, 0, 0, 0.1);
    }

    /* Form Styles */
    .modern-contact-form {
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
    }

    .form-field {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      position: relative;
    }

    .field-label {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .field-input {
      width: 100%;
      padding: 0.875rem 1rem;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 12px;
      color: var(--text-primary);
      font-size: 1rem;
      transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
      outline: none;
    }

    [data-theme="light"] .field-input {
      background: rgba(245, 245, 245, 0.8);
      border-color: rgba(0, 0, 0, 0.15);
    }

    .field-input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      transform: translateY(-2px);
    }

    [data-theme="light"] .field-input:focus {
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.08);
    }

    .field-input::placeholder {
      color: var(--text-secondary);
      opacity: 0.6;
    }

    textarea.field-input {
      resize: vertical;
      min-height: 120px;
      font-family: inherit;
    }

    /* Word Count Indicator - Progress Bar Style */
    .word-count-wrapper {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.25rem;
    }

    .word-count-text {
      font-size: 0.7rem;
      font-weight: 500;
      font-variant-numeric: tabular-nums;
      color: var(--text-secondary);
      white-space: nowrap;
      transition: color 0.3s ease;
    }

    .word-count-text.status-green {
      color: #10b981;
    }

    .word-count-text.status-yellow {
      color: #f59e0b;
    }

    .word-count-text.status-red {
      color: #ef4444;
    }

    .word-count-pill {
      width: 60px;
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 999px;
      overflow: hidden;
      position: relative;
    }

    [data-theme="light"] .word-count-pill {
      background: rgba(0, 0, 0, 0.08);
    }

    .word-count-fill {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      transition: width 0.3s ease, background-color 0.3s ease;
    }

    .word-count-fill.status-green {
      background: #10b981;
    }

    .word-count-fill.status-yellow {
      background: #f59e0b;
    }

    .word-count-fill.status-red {
      background: #ef4444;
    }

    /* Submit Button - Clean with Subtle Blue */
    .contact-submit-btn {
      width: 100%;
      padding: 0.875rem 1.5rem;
      margin-top: 0.5rem;
      font-size: 1rem;
      font-weight: 500;
      color: var(--text-primary);
      background: rgba(59, 130, 246, 0.05);
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 8px;
      cursor: pointer;
      transition: border-color 220ms ease, background 220ms ease, color 220ms ease, transform 220ms var(--ease-spring), box-shadow 220ms ease;
    }

    [data-theme="light"] .contact-submit-btn {
      background: rgba(37, 99, 235, 0.08);
      border-color: rgba(37, 99, 235, 0.3);
    }

    .contact-submit-btn:hover {
      border-color: var(--accent);
      background: rgba(59, 130, 246, 0.1);
      color: var(--accent);
      transform: translateY(-2px) scale(1.01);
    }

    [data-theme="light"] .contact-submit-btn:hover {
      background: rgba(37, 99, 235, 0.12);
    }

    .contact-submit-btn:active {
      transform: translateY(-1px) scale(0.98);
    }

    .contact-submit-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .contact-submit-btn:disabled:hover {
      border-color: rgba(59, 130, 246, 0.3);
      background: rgba(59, 130, 246, 0.05);
      color: var(--text-primary);
    }

    /* Social Links */
    .contact-social {
      margin-top: 2rem;
      padding-top: 2rem;
      border-top: 1px solid var(--border);
    }

    .social-label {
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 1rem;
    }

    .contact-social .social-links {
      display: flex;
      gap: 1rem;
      justify-content: center;
    }

    .contact-social .social-link {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--bg-secondary);
      transition: border-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
    }

    [data-theme="light"] .contact-social .social-link {
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .contact-social .social-link:hover {
      border-color: var(--accent);
      transform: translateY(-3px);
      box-shadow: 0 5px 20px rgba(59, 130, 246, 0.3);
    }

    [data-theme="light"] .contact-social .social-link:hover {
      box-shadow: 0 5px 20px rgba(37, 99, 235, 0.2);
    }

    @media (prefers-reduced-motion: reduce) {
      .contact-social .social-link {
        transition: none;
      }

      .contact-social .social-link:hover {
        transform: translateY(-1px);
      }
    }

    .contact-social .social-link svg {
      width: 22px;
      height: 22px;
    }

    /* Images inside social links (e.g. Google Cloud badge) */
    .contact-social .social-link img.social-img {
      width: 22px;
      height: 22px;
      object-fit: contain;
      display: block;
    }

    /* GitHub icon - uses currentColor */
    .contact-social .social-link:nth-child(1) svg path {
      fill: var(--text-primary);
    }

    /* LinkedIn icon - keep brand blue in dark mode, adjust for light mode */
    .contact-social .social-link:nth-child(2) svg path {
      fill: #0A66C2;
    }

    [data-theme="light"] .contact-social .social-link:nth-child(2) svg path {
      fill: #0A66C2;
    }

    /* Medium icon - uses currentColor */
    .contact-social .social-link:nth-child(3) svg path {
      fill: var(--text-primary);
    }

    /* Google Cloud image (fallback) */
    .contact-social .social-link:nth-child(4) img.social-img {
      filter: none;
    }

    .success-message {
      font-size: 1.1rem;
      color: var(--text-secondary);
      line-height: 1.6;
      margin: 0;
    }

    .success-countdown {
      font-size: 0.9rem;
      color: var(--accent);
      margin-top: 1rem;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-group label {
      color: var(--text-secondary);
      font-size: 0.875rem;
      font-weight: 500;
    }

    .form-group input,
    .form-group textarea {
      padding: 1rem;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
    }

    .form-group textarea {
      min-height: 150px;
      resize: vertical;
    }

    /* Skills Grid */
    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .skill-category {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2rem;
      transition: all 0.3s ease;
    }

    .skill-category:hover {
      border-color: rgba(59, 130, 246, 0.3);
      transform: translateY(-5px);
    }

    .skill-category h3 {
      font-size: 1.25rem;
      color: var(--accent);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .skill-items {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .model-computer {
        top: 10%;
        left: 5%;
        width: 15vw;
        height: 15vw;
      }

      .model-keyboard {
        bottom: 15%;
        right: 5%;
        width: 18vw;
        height: 18vw;
      }

      .model-mouse {
        top: 20%;
        right: 5%;
        width: 10vw;
        height: 10vw;
      }

      .hero-buttons .btn {
        padding: 0.7rem 1.2rem;
        font-size: 0.85rem;
      }

      .hero-social-link {
        width: 44px;
        height: 44px;
        font-size: 1.3rem;
      }

      .hero-social-link .social-logo {
        width: 22px;
        height: 22px;
      }

      .about-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .about-content .skills-grid {
        grid-template-columns: 1fr !important;
      }

      .about-text-column,
      .about-right-column,
      .left-column,
      .right-column {
        max-width: 100%;
        margin: 0 auto 2rem;
      }

      .about-right-column {
        order: -1;
      }

      .about-right-column .profile-container {
        max-width: 280px;
        margin: 0 auto;
      }

      .stat-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .contact-grid {
        grid-template-columns: 1fr;
      }

      .project-grid {
        flex-direction: column;
      }

      .project-card,
      .project-card.reverse {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .project-visual,
      .project-info,
      .project-card.reverse .project-visual,
      .project-card.reverse .project-info {
        order: unset;
      }

      .theme-toggle {
        width: 40px;
        height: 40px;
        margin-left: 0.5rem;
      }

      .orbit-container {
        width: 250px;
        height: 250px;
      }

      .orbit-ring-1 {
        width: 140px;
        height: 140px;
      }

      .orbit-ring-2 {
        width: 200px;
        height: 200px;
      }

      .orbit-center {
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
      }

      .orbit-icon {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }

      .orbit-icon i {
        font-size: 1.4rem;
      }
    }

    @media (max-width: 768px) {
      .menu-toggle {
        top: 20px;
        right: 20px;
      }

      .menu-overlay {
        max-width: 100%;
        padding: 80px 30px 30px;
      }

      .menu-nav-item {
        font-size: 1.5rem;
      }

      .menu-theme-toggle {
        bottom: 30px;
        right: 30px;
      }

      .main-content {
        margin-top: 0;
        margin-bottom: 80px;
      }

      .model-computer {
        top: 8%;
        left: 2%;
        width: 20vw;
        height: 20vw;
        opacity: 0.6;
        z-index: 65;
      }

      .model-keyboard {
        bottom: 15%;
        right: 2%;
        width: 25vw;
        height: 25vw;
        opacity: 0.6;
        z-index: 65;
      }

      .model-mouse {
        top: 20%;
        right: 2%;
        width: 12vw;
        height: 12vw;
        opacity: 0.6;
        z-index: 55;
      }

      .hero-buttons {
        flex-direction: column;
        gap: 0.75rem;
      }

      .hero-buttons .btn {
        padding: 0.6rem 1rem;
        font-size: 0.8rem;
      }

      .hero-social-links {
        gap: 0.75rem;
      }

      .hero-social-link {
        font-size: 1.2rem;
        width: 40px;
        height: 40px;
      }

      .hero-social-link .social-logo {
        width: 20px;
        height: 20px;
      }

      .section-title {
        font-size: 2rem;
      }

      .theme-toggle {
        width: 50px;
        height: 50px;
      }

      .social-links {
        flex-wrap: wrap;
      }

      .social-link {
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
      }

      /* About section - stack columns */
      .about-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .about-text-column,
      .about-right-column,
      .left-column,
      .right-column {
        order: 2;
      }

      .about-right-column {
        order: -1;
      }

      .tech-list-minimal {
        grid-template-columns: repeat(2, 1fr);
      }

      .profile-container {
        width: 220px;
        height: 220px;
        margin: 0 auto;
      }

      .profile-frame {
        width: 200px;
        height: 200px;
      }

      .profile-pic {
        width: 200px;
        height: 200px;
      }

      .profile-glow {
        width: 220px;
        height: 220px;
      }

      /* Project cards - stack */
      .project-card {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .project-card.reverse {
        grid-template-columns: 1fr;
      }

      .project-3d-container {
        height: 350px;
      }

      /* Research cards - stack */
      .research-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .research-canvas-container {
        height: 250px;
      }

      .research-canvas-title {
        font-size: 1.25rem;
      }

      .draggable-card {
        font-size: 0.875rem;
        padding: 0.625rem 1rem;
      }

      .draggable-card.my-research-card {
        padding: 0.75rem 1.25rem;
        font-size: 0.875rem;
      }

      .draggable-card.my-research-card i {
        font-size: 1.125rem;
      }

      .research-publications {
        gap: 1.5rem;
      }

      .publication-card {
        padding: 1.5rem;
      }

      .publication-header {
        flex-direction: column;
        gap: 1rem;
      }

      .publication-meta {
        align-self: flex-start;
      }

      .publication-title {
        font-size: 1.25rem;
      }

      .publication-authors {
        font-size: 0.875rem;
      }

      .publication-abstract {
        font-size: 0.95rem;
      }

      .publication-actions {
        flex-direction: column;
      }

      .pub-link {
        width: 100%;
        justify-content: center;
      }

      .research-details {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .research-detail-card {
        padding: 1.5rem;
      }

      .research-detail-icon {
        width: 50px;
        height: 50px;
      }

      .research-detail-icon i {
        font-size: 1.5rem;
      }

      .research-detail-card h3 {
        font-size: 1.25rem;
      }

      .research-card {
        padding: 2rem;
      }

      .research-icon {
        width: 60px;
        height: 60px;
      }

      .research-icon i {
        font-size: 1.75rem;
      }

      .research-title {
        font-size: 1.25rem;
      }

      /* Timeline mobile - Left-aligned layout */
      .timeline {
        padding: 0 1rem 0 3rem;
      }

      .timeline::before,
      .timeline::after {
        left: 15px;
        transform: none;
        width: 3px;
      }

      .timeline-dot-container {
        left: 15px;
        transform: translateX(-50%);
      }

      .timeline-circle {
        width: 16px;
        height: 16px;
        border-width: 2px;
      }

      .timeline-item {
        padding-left: 30px !important;
        padding-right: 0 !important;
        text-align: left !important;
        margin-bottom: 3rem;
      }

      .timeline-content {
        text-align: left !important;
        padding: 0 !important;
      }

      .timeline-mobile-header h3:first-child {
        font-size: 1.125rem;
      }

      .timeline-mobile-header .timeline-date {
        font-size: 0.9rem;
      }

      .timeline-mobile-header h3:nth-child(3) {
        font-size: 1rem;
      }

      .timeline-mobile-header .timeline-location {
        font-size: 0.9rem;
      }

      .timeline-content p {
        font-size: 0.9rem;
      }

      .job-descriptions {
        padding-left: 1.25rem;
        font-size: 0.9rem;
        text-align: left !important;
        list-style-position: outside !important;
      }

      .job-descriptions li::before {
        left: -1.25rem !important;
        right: auto !important;
        font-size: 0.85rem;
      }

      .timeline-item:first-child {
        padding-top: 0;
      }

      .timeline-circle {
        left: -2.5rem;
        width: 16px;
        height: 16px;
        border-width: 2px;
      }

      .timeline-circle::before {
        width: 8px;
        height: 8px;
      }

      /* Contact form */
      .contact-section {
        padding: 2rem 0;
      }

      .contact-section-description {
        font-size: 1rem;
        padding: 0 1rem;
        margin-bottom: 2rem;
      }

      .contact-wrapper {
        padding: 0 1rem;
      }

      .contact-info-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .contact-info-card {
        padding: 1.25rem;
      }

      .info-icon {
        width: 45px;
        height: 45px;
      }

      .info-icon i {
        font-size: 1.25rem;
      }

      .info-label {
        font-size: 0.8rem;
      }

      .info-value {
        font-size: 0.95rem;
      }

      .copy-btn {
        width: 28px;
        height: 28px;
      }

      .copy-btn i {
        font-size: 0.9rem;
      }

      .contact-form-container {
        padding: 1.5rem;
        border-radius: 16px;
      }

      .field-input {
        padding: 0.75rem;
        font-size: 0.95rem;
      }

      .contact-submit-btn {
        padding: 0.875rem;
        font-size: 1rem;
      }

      .contact-alert {
        top: 80px;
        right: 1rem;
        left: 1rem;
        padding: 0.875rem 1.25rem;
        font-size: 0.95rem;
      }

      /* Scroll indicator */
      .scroll-indicator {
        left: 50%;
        transform: translateX(-50%);
        bottom: 6rem;
      }

      .scroll-indicator:hover {
        transform: translateX(-50%) translateY(-5px);
      }

      /* Smaller orbit on mobile */
      .orbit-container {
        width: 200px;
        height: 200px;
      }

      .orbit-ring-1 {
        width: 100px;
        height: 100px;
      }

      .orbit-ring-2 {
        width: 160px;
        height: 160px;
      }

      .orbit-center {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
      }

      .orbit-icon {
        width: 35px;
        height: 35px;
      }

      .orbit-icon i {
        font-size: 1.2rem;
      }
    }

    /* Scroll animations */
    .reveal {
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease;
    }

    .reveal.active {
      opacity: 1;
      transform: translateY(0);
    }

    .reveal-left {
      opacity: 0;
      transform: translateX(-100px);
      transition: all 1s ease;
    }

    .reveal-left.active {
      opacity: 1;
      transform: translateX(0);
    }

    .reveal-right {
      opacity: 0;
      transform: translateX(100px);
      transition: all 1s ease;
    }

    .reveal-right.active {
      opacity: 1;
      transform: translateX(0);
    }

    /* Loading Screen */
    #loading-screen {
      position: fixed;
      inset: 0;
      background: var(--bg-primary);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), visibility 0.8s;
    }

    #loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .loader-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 240px;
    }

    .loader-line-wrapper {
      width: 100%;
      height: 2px;
      background: rgba(120, 120, 120, 0.2);
      overflow: hidden;
      position: relative;
    }

    .loader-line {
      width: 100%;
      height: 100%;
      background: var(--text-primary);
      transform-origin: left;
      animation: loaderProgress 1.6s cubic-bezier(0.77, 0, 0.175, 1) infinite alternate;
    }

    @keyframes loaderProgress {
      0% {
        transform: scaleX(0);
        transform-origin: left;
      }

      49.9% {
        transform: scaleX(1);
        transform-origin: left;
      }

      50% {
        transform: scaleX(1);
        transform-origin: right;
      }

      100% {
        transform: scaleX(0);
        transform-origin: right;
      }
    }

    .loading-text {
      margin-top: 1.5rem;
      color: var(--text-primary);
      font-size: 0.8rem;
      font-weight: 500;
      letter-spacing: 4px;
      opacity: 0.8;
      overflow: hidden;
    }

    .loading-words {
      display: block;
      animation: textPulse 1.5s ease-in-out infinite alternate;
    }

    @keyframes textPulse {
      0% {
        opacity: 0.4;
      }

      100% {
        opacity: 1;
      }
    }

    /* NOISE TEXTURE OVERLAY - OPTIMIZED */
    .noise-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9000;
      opacity: 0.04;
      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5. eXlzc3Oeli4teleNjY2Li4ubm5teleNjY2teleNjY11teleNj2Li4uJiYmeli4t7e3t1dXV3d3d7e3t5eXl1dXWBgYF9fX2Dg4OFhYW3BgYF7e3t9fX2Hh4eLi4uNjY17e3t/f3+BgYGHh4eDg4NtbW1vb29xeleXl1dXV3d3d5eXl7e3t9fX1/f3+BgYGDg4OFhYWHh4eJiYmLi4uNjY2Pj4+RkZGTk5OVlZWXl5eZmZmbm5teleNj4+Pj4+RkZGTk5OVlZWXl5eZmZmbm5udnZ2fn5+hoaGjo6teleNj4+Pj4+RkZGTk5O=");
      background-repeat: repeat;
    }

    [data-theme="light"] .noise-overlay {
      opacity: 0.025;
    }

    /* PULSING STATUS DOT */
    .status-dot {
      display: inline-block;
      width: 8px;
      height: 8px;
      background-color: #10b981;
      border-radius: 50%;
      margin-right: 8px;
      vertical-align: middle;
      box-shadow: 0 0 0 rgba(16, 185, 129, 0.4);
      animation: pulse-green 2s infinite;
    }

    @keyframes pulse-green {
      0% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
      }

      70% {
        transform: scale(1);
        box-shadow: 0 0 0 6px rgba(16, 185, 129, 0);
      }

      100% {
        transform: scale(0.95);
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
      }
    }

    /* PRINT STYLES */
    @media print {

      .cursor-follower,
      .particles-container,
      .hero-aurora,
      .hero-grid-pattern,
      .hero-vignette,
      #hero-particles-canvas,
      .menu-toggle,
      .theme-toggle,
      .scroll-indicator,
      .scroll-shapes,
      .hero-buttons,
      .project-3d-container,
      .mobile-3d-container,
      .orbit-container,
      .noise-overlay,
      .menu-overlay,
      .floating-skills-container {
        display: none !important;
      }

      body {
        background: white !important;
        color: black !important;
        overflow: visible !important;
      }

      .hero-section {
        min-height: auto !important;
        padding: 2rem !important;
      }

      .hero-name-section {
        position: relative !important;
        top: auto !important;
        left: auto !important;
      }

      .section-container {
        max-width: 100% !important;
        padding: 0 1rem !important;
      }

      section {
        min-height: auto !important;
        padding: 2rem 0 !important;
        page-break-inside: avoid;
      }

      h1,
      h2,
      h3 {
        color: black !important;
        page-break-after: avoid;
      }

      p,
      li {
        color: #333 !important;
      }

      a {
        text-decoration: underline;
        color: black !important;
      }

      .project-card,
      .education-item,
      .timeline-item {
        border: 1px solid #ddd !important;
        background: white !important;
        box-shadow: none !important;
        transform: none !important;
        position: relative !important;
        top: auto !important;
        opacity: 1 !important;
        margin-bottom: 1rem;
        page-break-inside: avoid;
      }

      .education-timeline {
        height: auto !important;
        display: block !important;
      }

      .tech-tag {
        background: #f0f0f0 !important;
        color: #333 !important;
        border: 1px solid #ccc !important;
      }
    }
  </style>
</head>

<body>


  <!-- Noise Texture Overlay -->
  <div class="noise-overlay"></div>

  <!-- Cursor Follower Removed -->

  <!-- Particle Background Canvas -->
  <div id="particles-container" class="particles-container">
    <canvas id="particles-canvas"></canvas>
  </div>

  <!-- Loading Screen -->
  <div id="loading-screen">
    <div class="loader-container">
      <div class="loader-line-wrapper">
        <div class="loader-line"></div>
      </div>
      <div class="loading-text">
        <span class="loading-words">INITIALIZING PORTFOLIO</span>
      </div>
    </div>
  </div>

  <!-- Scroll Shape Indicator -->
  <!-- Glassmorphism Capsule Navigation -->
  <nav class="capsule-nav" id="capsuleNav">
    <a href="#home" class="capsule-item active" data-section="home" aria-label="Home">
      <span class="capsule-dot"></span>
      <span class="capsule-text" data-text="Home">Home</span>
    </a>
    <a href="#about" class="capsule-item" data-section="about" aria-label="About">
      <span class="capsule-dot"></span>
      <span class="capsule-text" data-text="About">About</span>
    </a>
    <a href="#projects" class="capsule-item" data-section="projects" aria-label="Projects">
      <span class="capsule-dot"></span>
      <span class="capsule-text" data-text="Projects">Projects</span>
    </a>
    <a href="#experience" class="capsule-item" data-section="experience" aria-label="Experience">
      <span class="capsule-dot"></span>
      <span class="capsule-text" data-text="Experience">Experience</span>
    </a>
    <a href="#stackSection" class="capsule-item" data-section="stackSection" aria-label="Research">
      <span class="capsule-dot"></span>
      <span class="capsule-text" data-text="Research">Research</span>
    </a>
    <a href="#contact" class="capsule-item" data-section="contact" aria-label="Contact">
      <span class="capsule-dot"></span>
      <span class="capsule-text" data-text="Contact">Contact</span>
    </a>
  </nav>

  <!-- Menu Backdrop -->
  <div class="menu-backdrop" id="menuBackdrop"></div>

  <!-- Hamburger Menu Toggle -->
  <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
    <span></span>
    <span></span>
  </button>

  <!-- Menu Overlay -->
  <nav class="menu-overlay" id="menuOverlay" role="navigation" aria-label="Main navigation">
    <div class="menu-content">
      <div class="menu-nav">
        <a href="#home" class="menu-nav-item">Home</a>
        <a href="#about" class="menu-nav-item">About</a>
        <a href="#projects" class="menu-nav-item">Projects</a>
        <a href="#experience" class="menu-nav-item">Experience</a>
        <a href="#contact" class="menu-nav-item">Contact</a>
      </div>

      <div class="menu-contact">
        <div class="menu-contact-label">Say Hello</div>
        <a href="mailto:vimangau@gmail.com" class="menu-contact-link">vimangau@gmail.com</a>
        <a href="tel:519-816-9683" class="menu-contact-link">519-816-9683</a>
      </div>

      <div class="menu-social">
        <a href="https://github.com/vimanga-x64" target="_blank" class="menu-social-link">GH</a>
        <a href="https://linkedin.com/in/vimanga-umange" target="_blank" class="menu-social-link">LN</a>
        <a href="https://medium.com/@vishudha98" target="_blank" class="menu-social-link">MD</a>
      </div>
    </div>

    <div class="menu-theme-toggle theme-switch" id="menuThemeToggle" aria-label="Toggle theme" role="switch"
      tabindex="0">
      <div class="theme-switch-track">
        <div class="theme-switch-thumb"></div>
        <div class="theme-switch-icon sun-icon">
          <i class="ph ph-sun"></i>
        </div>
        <div class="theme-switch-icon moon-icon">
          <i class="ph ph-moon"></i>
        </div>
      </div>
    </div>
  </nav>

  <main class="main-content" role="main">
    <section id="home" class="hero-section" aria-label="Hero section">
      <!-- LAYER 0: Aurora Background -->
      <div class="hero-aurora" aria-hidden="true">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="orb orb-4"></div>
        <div class="orb orb-5"></div>
      </div>

      <!-- LAYER 0.5: Video Background -->
      <video id="heroVideoA" class="hero-video" muted playsinline autoplay loop preload="none"
        aria-hidden="true"></video>
      <video id="heroVideoB" class="hero-video" muted playsinline autoplay loop preload="none"
        aria-hidden="true"></video>

      <!-- LAYER 1: Dot Grid Pattern -->
      <div class="hero-grid-pattern" aria-hidden="true"></div>

      <!-- LAYER 2: Vignette Overlay -->
      <div class="hero-vignette" aria-hidden="true"></div>

      <!-- LAYER 3: Interactive Particle Canvas -->
      <canvas id="hero-particles-canvas" aria-hidden="true"></canvas>


      <div class="hero-content">
        <!-- 3D Models (NDS style) -->
        <div class="hero-models">
          <model-viewer src="models_for_hero/my_computer.glb" class="hero-model model-computer"
            camera-orbit="0deg 80deg auto" loading="lazy" disable-zoom>
            <div slot="poster"></div>
            <div slot="progress-bar"></div>
          </model-viewer>
          <model-viewer src="models_for_hero/mechanical_keyboard_-_aesthetic.glb" class="hero-model model-keyboard"
            loading="lazy" disable-zoom>
            <div slot="poster"></div>
            <div slot="progress-bar"></div>
          </model-viewer>
          <model-viewer src="models_for_hero/logitech_mx_master_2s_danish_blends.glb" class="hero-model model-mouse"
            loading="lazy" disable-zoom>
            <div slot="poster"></div>
            <div slot="progress-bar"></div>
          </model-viewer>
        </div>

        <!-- Top left: Name and typing text -->
        <div class="hero-name-section">
          <h1>Vimanga<br>Umange.</h1>
          <div class="typing-subtitle">
            <span class="title-rotator" aria-live="polite">
              <span class="title-item">Computer Science Graduate Student</span>
              <span class="title-item">Software Developer</span>
              <span class="title-item">IT Specialist</span>
              <span class="title-item">Full-Stack Developer</span>
            </span>
          </div>
        </div>

        <!-- Top right: Buttons -->
        <div class="hero-buttons">
          <a href="#contact" class="btn btn-primary btn-flow-text">
            <i class="ph ph-paper-plane-tilt"></i>
            <span class="btn-text-wrap" data-text="Send Me a Message">
              <span class="btn-text-inner">Send Me a Message</span>
            </span>
          </a>
          <a href="resume.pdf" download class="btn btn-secondary btn-download">
            <i class="ph ph-download-simple"></i>
            <span style="position: relative; z-index: 2;">Download My Resume</span>
          </a>
        </div>

        <!-- Spotlight Search Overlay -->
        <div class="spotlight-overlay" id="spotlightSearch">
          <i class="ph ph-magnifying-glass spotlight-icon"></i>
          <div class="spotlight-input" id="spotlightText"></div>
        </div>

        <!-- macOS Terminal -->
        <div class="mac-terminal-container" id="macTerminal">
          <div class="mac-terminal">
            <div class="terminal-header">
              <div class="terminal-dot red"></div>
              <div class="terminal-dot yellow"></div>
              <div class="terminal-dot green"></div>
              <div class="terminal-title">user@vimanga:~</div>
            </div>
            <div class="terminal-window" id="terminalWindow"></div>
          </div>
          <div class="terminal-glow"></div>
        </div>

        <!-- Bottom right: Social links -->
        <div class="hero-social-links">
          <a href="https://github.com/vimanga-x64" target="_blank" class="hero-social-link" data-social="github"
            aria-label="GitHub">
            <i class="ph ph-github-logo social-icon"></i>
            <img src="logos/github_light.svg" alt="GitHub" class="social-logo" loading="lazy">
          </a>
          <a href="https://www.linkedin.com/in/vimanga-umange" target="_blank" class="hero-social-link"
            data-social="linkedin" aria-label="LinkedIn">
            <i class="ph ph-linkedin-logo social-icon"></i>
            <img src="logos/linkedin.svg" alt="LinkedIn" class="social-logo" loading="lazy">
          </a>
          <a href="https://medium.com/@vishudha98" target="_blank" class="hero-social-link" data-social="medium"
            aria-label="Medium">
            <i class="ph ph-medium-logo social-icon"></i>
            <img src="logos/medium-icon.svg" alt="Medium" class="social-logo" loading="lazy">
          </a>
        </div>
      </div>

      <div class="scroll-indicator" id="scrollIndicator">
        <div class="scroll-text">Scroll</div>
        <div class="scroll-line"></div>
      </div>
    </section>

    <section id="about" aria-label="About section">
      <div class="section-container">
        <h2 class="section-title">About Me</h2>
        <div class="about-content reveal">
          <!-- LEFT COLUMN: Bio Text + Tech List -->
          <div class="about-text-column">
            <p class="about-paragraph scroll-reveal-text" id="scrollReveal1">
              Hello! I'm <strong>Vimanga Umange</strong>. I build things at the intersection of research and product:
              model-focused experiments, prototypes, and full-stack apps that ship. With <strong>4+ years of coding
                experience</strong>,
              <strong>10+ projects</strong>, and <strong>2 research projects</strong>, I like moving quickly from idea
              to working demo.
            </p>
            <p class="about-paragraph scroll-reveal-text" id="scrollReveal2">
              I've worked as an <a href="#experience" class="inline-link">IT Specialist in the aerospace industry</a>
              and currently serve as a <a href="#experience" class="inline-link">Graduate Assistant</a> at the
              <a href="https://www.uwindsor.ca/" target="_blank" class="inline-link">University of Windsor</a>,
              where I'm pursuing my Master's in Computer Science with a specialization in Artifical Intelligence. I'm
              comfortable with the whole pipeline:
              from PyTorch experiments to production infrastructure.
            </p>
            <p class="about-paragraph scroll-reveal-text" id="scrollReveal3">
              My focus areas include <strong>Neural Networks & Deep Learning</strong>, <strong>Full-Stack Web
                Development</strong>,
              <strong>Scalable Infrastructure</strong>, and <strong>NLP & Language Models</strong>. Recently I worked on
              research in
              <a href="#experience" class="inline-link">hypergraph neural networks</a> and
              <a href="#experience" class="inline-link">transformer-based NLP models</a> for low-resource languages.
            </p>
            <p class="about-paragraph">Here are a few technologies I've been working with recently:</p>
            <ul class="tech-list-minimal">
              <li>JavaScript (ES6+)</li>
              <li>TypeScript</li>
              <li>React</li>
              <li>PyTorch</li>
              <li>Node.js</li>
              <li>PostgreSQL</li>
            </ul>

            <!-- Education Timeline -->
            <div class="education-timeline">
              <div class="education-item">
                <div class="education-dot"></div>
                <div class="education-content">
                  <span class="education-degree">M.Sc. Computer Science (Specialization in Artificial
                    Intelligence)</span>
                  <span class="education-school">University of Windsor</span>
                  <span class="education-meta"><span class="education-location"><i class="ph ph-map-pin"></i> Windsor,
                      ON, Canada</span> · <span class="education-date">Expected Dec 2026</span></span>
                </div>
              </div>
              <div class="education-item">
                <div class="education-dot"></div>
                <div class="education-content">
                  <span class="education-degree">B.Sc. Computer Science</span>
                  <span class="education-school">Wichita State University</span>
                  <span class="education-meta"><span class="education-location"><i class="ph ph-map-pin"></i> Wichita,
                      KS, USA</span> · <span class="education-date">2016 — 2021</span></span>
                </div>
              </div>
            </div>
          </div>

          <!-- RIGHT COLUMN: Profile Picture + Tech Stack -->
          <div class="about-right-column">
            <div class="profile-container">
              <div class="profile-glow"></div>
              <div class="profile-frame">
                <div class="profile-frame-inner"></div>
                <img src="images/profile_pic.png" alt="Vimanga Umange" class="profile-pic">
              </div>
            </div>

            <div class="info-card" style="margin-top: 2rem;">
              <h4><i class="ph ph-stack"></i> Tech Stack</h4>

              <!-- Orbiting Tech Icons -->
              <div class="orbit-container">
                <!-- Orbit rings -->
                <div class="orbit-ring orbit-ring-1"></div>
                <div class="orbit-ring orbit-ring-2"></div>

                <!-- Center icon -->
                <div class="orbit-center">
                  <i class="ph-bold ph-code"></i>
                </div>

                <!-- Inner orbit - Main technologies -->
                <div class="orbit-item" style="--orbit-radius: 80px; --orbit-duration: 20s; animation-delay: 0s;">
                  <div class="orbit-icon" data-tech="python">
                    <img src="logos/python.svg" alt="Python" loading="lazy">
                    <span class="orbit-icon-text">Python</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 80px; --orbit-duration: 20s; animation-delay: -5s;">
                  <div class="orbit-icon" data-tech="javascript">
                    <img src="logos/javascript.svg" alt="JavaScript" loading="lazy">
                    <span class="orbit-icon-text">JavaScript</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 80px; --orbit-duration: 20s; animation-delay: -10s;">
                  <div class="orbit-icon" data-tech="sql">
                    <img src="logos/sql.svg" alt="SQL" loading="lazy">
                    <span class="orbit-icon-text">SQL</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 80px; --orbit-duration: 20s; animation-delay: -15s;">
                  <div class="orbit-icon" data-tech="java">
                    <img src="logos/java.svg" alt="Java" loading="lazy">
                    <span class="orbit-icon-text">Java</span>
                  </div>
                </div>

                <!-- Outer orbit - Frameworks & Tools (8 items evenly distributed) -->
                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: 0s;">
                  <div class="orbit-icon" data-tech="react">
                    <img src="logos/react_light.svg" alt="React" loading="lazy">
                    <span class="orbit-icon-text">React</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -3.75s;">
                  <div class="orbit-icon" data-tech="nodejs">
                    <img src="logos/nodejs.svg" alt="Node.js" loading="lazy">
                    <span class="orbit-icon-text">Node.js</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -7.5s;">
                  <div class="orbit-icon" data-tech="pytorch">
                    <img src="logos/pytorch.svg" alt="PyTorch" loading="lazy">
                    <span class="orbit-icon-text">PyTorch</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -11.25s;">
                  <div class="orbit-icon" data-tech="docker">
                    <img src="logos/docker.svg" alt="Docker" loading="lazy">
                    <span class="orbit-icon-text">Docker</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -15s;">
                  <div class="orbit-icon" data-tech="gcp">
                    <img src="logos/google-cloud.svg" alt="Google Cloud" loading="lazy">
                    <span class="orbit-icon-text">GCP</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -18.75s;">
                  <div class="orbit-icon" data-tech="git">
                    <img src="logos/git.svg" alt="Git" loading="lazy">
                    <span class="orbit-icon-text">Git</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -22.5s;">
                  <div class="orbit-icon" data-tech="mongodb">
                    <img src="logos/mongodb.svg" alt="MongoDB" loading="lazy">
                    <span class="orbit-icon-text">MongoDB</span>
                  </div>
                </div>

                <div class="orbit-item" style="--orbit-radius: 120px; --orbit-duration: 30s; animation-delay: -26.25s;">
                  <div class="orbit-icon" data-tech="dart">
                    <img src="logos/dart.svg" alt="Dart" loading="lazy">
                    <span class="orbit-icon-text">Dart</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="projects" aria-label="Projects showcase" style="padding: 0; max-width: none; width: 100%;">
      <div class="projects-border-wrapper" id="projectsBorderWrapper">
        <div class="section-container">
          <h2 class="section-title" style="margin-top: 0;">Projects</h2>
          <div class="project-grid">
            <!-- FitTrack Project Card -->
            <div class="project-card reveal">
              <div class="project-visual">
                <div class="project-3d-container">
                  <div class="project-3d-scene">
                    <div class="project-bg-layer"></div>
                    <div class="laptop-model-wrap">
                      <model-viewer class="laptop-model" src="laptop-model/source/macbook_pro_14_inch_M5.glb"
                        alt="Laptop model" data-thumbnail="images/LandingPage-winhacks.jpg"
                        camera-orbit="0deg 75deg 2.2m" camera-target="0m 0.06m 0m" field-of-view="24deg" exposure="0.85"
                        shadow-intensity="0.8" shadow-softness="0.6" disable-zoom interaction-prompt="none"
                        loading="lazy">
                      </model-viewer>
                      <div class="laptop-preview-hotspot" aria-hidden="true"></div>
                      <img class="laptop-hover-preview" alt="" aria-hidden="true">
                    </div>
                    <div class="project-spotlight"></div>
                  </div>
                </div>
              </div>
              <div class="project-info">
                <div class="project-badge-row">
                  <span class="project-badge winner"><i class="ph ph-trophy"></i> Finalist</span>
                  <span class="project-event-chip" title="WinHacks 2026">
                    <img src="logos/winhacks_logo.png" alt="WinHacks" loading="lazy">
                    WinHacks 2026
                  </span>
                </div>
                <h3 class="project-title">
                  <i class="ph ph-heartbeat"></i> FitTrack: AI Wellness Assistant
                </h3>
                <p class="project-description">
                  A wellness and recovery assistant that brings activity tracking, nutrition insights, and AI-powered
                  coaching into a single experience.
                  Uses a Deterministic–Generative Hybrid pipeline to turn raw biometrics (HRV, sleep stages, stress
                  loads) into actionable daily guidance.
                </p>
                <div class="tech-stack">
                  <span class="tech-tag">React</span>
                  <span class="tech-tag">TypeScript</span>
                  <span class="tech-tag">FastAPI</span>
                  <span class="tech-tag">OpenAI</span>
                  <span class="tech-tag">Tailwind CSS</span>
                  <span class="tech-tag">Firebase</span>
                </div>
                <div class="project-cta-row">
                  <span class="btn-readmore-group btn-readmore-fittrack" role="group" aria-label="FitTrack links">
                    <a href="fittrack.html" class="btn-readmore-main">
                      Read More
                    </a>
                    <a href="fittrack.html" target="_blank" rel="noopener" class="btn-readmore-redirect"
                      aria-label="Open FitTrack case study in a new tab" title="Open in new tab">
                      <i class="ph ph-arrow-square-out"></i>
                    </a>
                  </span>
                  <a href="https://github.com/vimanga-x64/Winhacks-Project" target="_blank" class="btn btn-secondary">
                    <i class="ph ph-github-logo"></i> View Code
                  </a>
                </div>
              </div>
            </div>

            <div class="project-card reverse reveal">
              <div class="project-visual">
                <div class="project-3d-container">
                  <div class="project-3d-scene">
                    <div class="project-bg-layer"></div>
                    <div class="laptop-model-wrap">
                      <model-viewer class="laptop-model" src="laptop-model/source/macbook_pro_14_inch_M5.glb"
                        alt="Laptop model" data-thumbnail="images/Space_Apps_Screenshot.png"
                        camera-orbit="0deg 75deg 2.2m" camera-target="0m 0.06m 0m" field-of-view="24deg" exposure="0.85"
                        shadow-intensity="0.8" shadow-softness="0.6" disable-zoom interaction-prompt="none"
                        loading="lazy">
                      </model-viewer>
                      <div class="laptop-preview-hotspot" aria-hidden="true"></div>
                      <img class="laptop-hover-preview" alt="" aria-hidden="true">
                    </div>
                    <div class="project-spotlight"></div>
                  </div>
                </div>
              </div>
              <div class="project-info">
                <div class="project-badge-row">
                  <span class="project-badge honorable"><i class="ph ph-medal"></i> Honorable Mention</span>
                  <span class="project-event-chip" title="NASA International Space Apps Challenge 2025">
                    <img src="logos/Nasa_space_apps%20logo.png" alt="NASA Space Apps Challenge" loading="lazy">
                    NASA Space Apps Challenge 2025
                  </span>
                </div>
                <h3 class="project-title">
                  <img class="project-title-logo" src="logos/nasa.svg" alt="NASA" loading="lazy"
                    onerror="this.remove()">
                  NASA Weather Activity Recommender
                </h3>
                <p class="project-description">
                  Web app providing personalized weather-based recommendations for outdoor activities (hiking, running,
                  surfing, kayaking, etc.).
                  Uses NASA satellite imagery and weather data APIs, powered by an LLM and statistical prediction to
                  generate suitability ratings, explanations, and alternative activity suggestions.
                </p>
                <div class="tech-stack">
                  <span class="tech-tag">NASA APIs</span>
                  <span class="tech-tag">Satellite Imagery</span>
                  <span class="tech-tag">Interactive Map</span>
                  <span class="tech-tag">LLM</span>
                  <span class="tech-tag">Weather Forecasting</span>
                </div>
                <div class="project-cta-row">
                  <span class="btn-readmore-group btn-readmore-nasa" role="group" aria-label="WeatherWise links">
                    <a href="weatherwise.html" class="btn-readmore-main">
                      Read More
                    </a>
                    <a href="weatherwise.html" target="_blank" rel="noopener" class="btn-readmore-redirect"
                      aria-label="Open WeatherWise case study in a new tab" title="Open in new tab">
                      <i class="ph ph-arrow-square-out"></i>
                    </a>
                  </span>
                  <a href="https://github.com/vimanga-x64/NASA-Hackathon-Weather_APP" target="_blank"
                    class="btn btn-secondary">
                    <i class="ph ph-github-logo"></i> View Code
                  </a>
                  <a href="images/NASA%20Space%20Apps%20Challenge.pdf" target="_blank" class="btn btn-secondary">
                    <i class="ph ph-file-pdf"></i> View Certificate
                  </a>
                </div>
              </div>
            </div>

            <div class="project-card reveal">
              <div class="project-visual">
                <div class="project-3d-container">
                  <div class="project-3d-scene">
                    <div class="project-bg-layer"></div>
                    <div class="laptop-model-wrap">
                      <model-viewer class="laptop-model" src="laptop-model/source/macbook_pro_14_inch_M5.glb"
                        alt="Laptop model" data-thumbnail="images/movie-app.png" camera-orbit="0deg 75deg 2.2m"
                        camera-target="0m 0.06m 0m" field-of-view="24deg" exposure="0.85" shadow-intensity="0.8"
                        shadow-softness="0.6" disable-zoom interaction-prompt="none" loading="lazy">
                      </model-viewer>
                      <div class="laptop-preview-hotspot" aria-hidden="true"></div>
                      <img class="laptop-hover-preview" alt="" aria-hidden="true">
                    </div>
                    <div class="project-spotlight"></div>
                  </div>
                </div>
              </div>
              <div class="project-info">
                <h3 class="project-title">
                  <i class="ph ph-film-strip"></i> AI Movie Search App
                </h3>
                <p class="project-description">
                  A semantic movie search application powered by React and Hugging Face NLP models.
                  Integrates with TMDB API to provide intelligent movie recommendations with 95% query accuracy.
                </p>
                <div class="tech-stack">
                  <span class="tech-tag">React</span>
                  <span class="tech-tag">NLP</span>
                  <span class="tech-tag">Hugging Face</span>
                  <span class="tech-tag">TMDB API</span>
                </div>
                <a href="https://github.com/vimanga-x64/AI-Movie-Search" target="_blank" class="btn btn-secondary">
                  <i class="ph ph-github-logo"></i> View Code
                </a>
              </div>
            </div>

            <div class="project-card reveal reverse">
              <div class="project-visual">
                <div class="project-3d-container">
                  <div class="project-3d-scene">
                    <div class="project-bg-layer"></div>
                    <div class="laptop-model-wrap">
                      <model-viewer class="laptop-model" src="laptop-model/source/macbook_pro_14_inch_M5.glb"
                        alt="Laptop model" data-thumbnail="images/free-games.png" camera-orbit="0deg 75deg 2.2m"
                        camera-target="0m 0.06m 0m" field-of-view="24deg" exposure="0.85" shadow-intensity="0.8"
                        shadow-softness="0.6" disable-zoom interaction-prompt="none" loading="lazy">
                      </model-viewer>
                      <div class="laptop-preview-hotspot" aria-hidden="true"></div>
                      <img class="laptop-hover-preview" alt="" aria-hidden="true">
                    </div>
                    <div class="project-spotlight"></div>
                  </div>
                </div>
              </div>
              <div class="project-info">
                <h3 class="project-title">
                  <i class="ph ph-game-controller"></i> Free Game Scraper
                </h3>
                <p class="project-description">
                  Full-stack web scraping application that aggregates free game deals from 6+ platforms.
                  Built with Flask backend and React frontend, featuring intelligent caching to reduce API calls by 30%.
                </p>
                <div class="tech-stack">
                  <span class="tech-tag">Flask</span>
                  <span class="tech-tag">React</span>
                  <span class="tech-tag">Web Scraping</span>
                  <span class="tech-tag">Redis</span>
                </div>
                <a href="https://github.com/vimanga-x64/Free-Game-Scraper" target="_blank" class="btn btn-secondary">
                  <i class="ph ph-github-logo"></i> View Code
                </a>
              </div>
            </div>

            <div class="project-card reveal">
              <div class="project-visual">
                <div class="mobile-3d-container">
                  <div class="mobile-3d-scene">
                    <div class="mobile-bg-layer"></div>
                    <div class="mobile-device">
                      <div class="mobile-notch"></div>
                      <div class="mobile-screen">
                        <img src="images/etutor-screenshot.png" alt="E-Tutor App Main Screen">
                      </div>
                    </div>
                    <div class="mobile-device">
                      <div class="mobile-notch"></div>
                      <div class="mobile-screen">
                        <img src="images/e-tutor_lockscreen.png" alt="E-Tutor App Login Screen">
                      </div>
                    </div>
                    <div class="project-spotlight"></div>
                  </div>
                </div>
              </div>
              <div class="project-info">
                <h3 class="project-title">
                  <i class="ph ph-robot"></i> E-Tutor: Adaptive Learning App
                </h3>
                <p class="project-description">
                  Mobile learning platform with mood-responsive avatars using Lottie animations.
                  Features gamified lessons, real-time performance feedback, and intelligent tutor matching system with
                  secure authentication.
                </p>
                <div class="tech-stack">
                  <span class="tech-tag">Flutter</span>
                  <span class="tech-tag">Firebase</span>
                  <span class="tech-tag">Dart</span>
                  <span class="tech-tag">Lottie</span>
                </div>
                <a href="https://github.com/vimanga-x64/ResearchProject-Prototype" target="_blank"
                  class="btn btn-secondary">
                  <i class="ph ph-github-logo"></i> View Code
                </a>
              </div>
            </div>

            <div class="project-card reveal reverse">
              <div class="project-visual">
                <div class="mobile-3d-container">
                  <div class="mobile-3d-scene mobile-stacked">
                    <div class="mobile-bg-layer"></div>
                    <div class="mobile-device">
                      <div class="mobile-notch"></div>
                      <div class="mobile-screen">
                        <img src="images/Dhammapada_Lockscreen.png" alt="Dhammapada App Lock Screen">
                      </div>
                    </div>
                    <div class="mobile-device">
                      <div class="mobile-notch"></div>
                      <div class="mobile-screen">
                        <img src="images/Dhammapada_Homescreen.png" alt="Dhammapada App Home Screen">
                      </div>
                    </div>
                    <div class="project-spotlight"></div>
                  </div>
                </div>
              </div>
              <div class="project-info">
                <h3 class="project-title">
                  <i class="ph ph-book-open"></i> Dhammapada: Buddhist Scripture App
                </h3>
                <p class="project-description">
                  Mobile application bringing Buddha's teachings to daily life. Features verse of the day notifications,
                  complete Dhammapada text, Buddhist literature library, and mindfulness resources. Built with Flutter
                  for cross-platform accessibility and spiritual growth.
                </p>
                <div class="tech-stack">
                  <span class="tech-tag">Flutter</span>
                  <span class="tech-tag">Dart</span>
                  <span class="tech-tag">Push Notifications</span>
                  <span class="tech-tag">Local Storage</span>
                </div>
                <a href="https://github.com/vimanga-x64/Dhammapada_App" target="_blank" class="btn btn-secondary">
                  <i class="ph ph-github-logo"></i> View Code
                </a>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <section id="experience" aria-label="Work experience">
      <div class="section-container">
        <h2 class="section-title">My Work Experience</h2>
        <div class="experience-timeline" id="experienceTimeline">

          <!-- Timeline Item 1 -->
          <div class="exp-timeline-item">
            <div class="exp-timeline-dot"></div>
            <div class="exp-card">
              <span class="exp-card-number">01</span>
              <div class="exp-card-header">
                <h3 class="exp-card-role">Graduate Assistant</h3>
                <span class="exp-card-company">University of Windsor</span>
                <div class="exp-card-meta">
                  <span class="exp-card-date">
                    <span class="status-dot"></span>
                    2025 – Present
                  </span>
                  <span class="exp-card-location">Windsor, ON, Canada</span>
                </div>
              </div>
              <div class="exp-card-body">
                <ul class="exp-card-list">
                  <li>Grade assignments and exams for 100+ students in Computer Networks course</li>
                  <li>Supervise lab sessions with Wireshark and Cisco Packet Tracer</li>
                  <li>Conduct office hours covering TCP/IP, routing protocols, and network security</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Timeline Item 2 -->
          <div class="exp-timeline-item">
            <div class="exp-timeline-dot"></div>
            <div class="exp-card">
              <span class="exp-card-number">02</span>
              <div class="exp-card-header">
                <h3 class="exp-card-role">IT Specialist</h3>
                <span class="exp-card-company">Etezazi Industries</span>
                <div class="exp-card-meta">
                  <span class="exp-card-date">2021 – 2024</span>
                  <span class="exp-card-location">Wichita, KS, USA</span>
                </div>
              </div>
              <div class="exp-card-body">
                <ul class="exp-card-list">
                  <li>Migrated 100+ user accounts to new domain with zero downtime</li>
                  <li>Managed Active Directory, VPN, SonicWall firewalls, and server infrastructure</li>
                  <li>Redesigned company website using WordPress, HTML, CSS</li>
                  <li>Automated inventory management with Python, reducing scrap parts by 40%</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Timeline Item 3 -->
          <div class="exp-timeline-item">
            <div class="exp-timeline-dot"></div>
            <div class="exp-card">
              <span class="exp-card-number">03</span>
              <div class="exp-card-header">
                <h3 class="exp-card-role">IT Intern</h3>
                <span class="exp-card-company">Etezazi Industries</span>
                <div class="exp-card-meta">
                  <span class="exp-card-date">2021</span>
                  <span class="exp-card-location">Wichita, KS, USA</span>
                </div>
              </div>
              <div class="exp-card-body">
                <ul class="exp-card-list">
                  <li>Resolved 200+ IT complaints using centralized monitoring system</li>
                  <li>Managed company databases and wrote SQL queries for data retrieval</li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Research Section -->
    <section id="research" aria-label="Research section">
      <div class="section-container">
        <div class="research-split" id="stackSection">
          <!-- LEFT COLUMN — Editorial Panel (sticky) -->
          <div class="research-left">
            <div class="research-intro">
              <h2 class="section-title">Research</h2>
              <p class="research-intro-desc">Investigating graph-based deep learning, NLP for low-resource languages,
                and advanced machine learning applications at the University of Windsor. My work focuses on pushing the
                boundaries of what's possible with neural architectures.</p>


              <div class="research-downloads">
                <a href="papers/8720 Project_paper.pdf" target="_blank" class="research-download-item">
                  <span>Download HGNN Research Paper</span>
                  <div class="download-arrow"><i class="ph ph-arrow-right"></i></div>
                </a>
                <a href="https://github.com/vimanga-x64/COMP8730_Project" target="_blank"
                  class="research-download-item">
                  <span>View Glossing Models Project Github</span>
                  <div class="download-arrow"><i class="ph ph-arrow-right"></i></div>
                </a>
                <a href="papers/COMP8740_FinalProject.pdf" target="_blank" class="research-download-item">
                  <span>View Advanced ML Research Paper</span>
                  <div class="download-arrow"><i class="ph ph-arrow-right"></i></div>
                </a>
              </div>

              <p class="research-footnote">Links above give access to early drafts and project repositories. Full thesis
                document will be available upon defense.</p>
            </div>
          </div>

          <!-- RIGHT COLUMN — Stacking Cards -->
          <div class="research-right">
            <div class="stack-cards-wrapper">
              <div class="stack-cards-container" id="stackCards">
                <!-- Card 1 — Cream/Beige -->
                <div class="stack-card stack-card-1" data-card-index="0">
                  <div class="stack-card-inner">
                    <div class="stack-card-header">
                      <h3>Top-k Densest Subgraph Augmentation for Hypergraph Neural Networks</h3>
                      <div class="stack-card-actions">
                        <a href="papers/8720 Project_paper.pdf" target="_blank" title="View Paper"><i
                            class="ph ph-arrow-square-out"></i></a>
                      </div>
                    </div>
                    <p class="stack-card-desc">Investigating graph augmentation techniques for hypergraph neural
                      networks, applying top-k densest subgraph methods to improve prediction accuracy in movie
                      profitability analysis.</p>
                    <div class="stack-card-tags">
                      <span>Hypergraphs</span>
                      <span>Deep Learning</span>
                      <span>PyTorch</span>
                    </div>
                    <span class="stack-card-source">uwindsor.ca</span>
                  </div>
                </div>
                <!-- Card 2 — Dark/Black -->
                <div class="stack-card stack-card-2" data-card-index="1">
                  <div class="stack-card-inner">
                    <div class="stack-card-header">
                      <h3>Transformer-Based Automated Interlinear Glossing for Low-Resource Languages</h3>
                      <div class="stack-card-actions">
                        <a href="https://github.com/vimanga-x64/COMP8730_Project" target="_blank" title="GitHub"><i
                            class="ph ph-github-logo"></i></a>
                        <a href="papers/COMP8730_Proposal-1.pdf" target="_blank" title="View Paper"><i
                            class="ph ph-arrow-square-out"></i></a>
                      </div>
                    </div>
                    <p class="stack-card-desc">Developed transformer-based models for automated morphological analysis
                      of Arapaho and Ancient Greek. Explored transfer learning to handle limited training data.</p>
                    <div class="stack-card-tags">
                      <span>NLP</span>
                      <span>Transformers</span>
                      <span>Python</span>
                    </div>
                    <span class="stack-card-source">uwindsor.ca</span>
                  </div>
                </div>
                <!-- Card 3 — Dark Green -->
                <div class="stack-card stack-card-3" data-card-index="2">
                  <div class="stack-card-inner">
                    <div class="stack-card-header">
                      <h3>Advanced Machine Learning Applications</h3>
                      <div class="stack-card-actions">
                        <a href="papers/COMP8740_FinalProject.pdf" target="_blank" title="View Paper"><i
                            class="ph ph-arrow-square-out"></i></a>
                      </div>
                    </div>
                    <p class="stack-card-desc">Comprehensive exploration of advanced machine learning techniques and
                      their practical applications covering state-of-the-art methods in deep learning.</p>
                    <div class="stack-card-tags">
                      <span>Machine Learning</span>
                      <span>Deep Learning</span>
                      <span>Python</span>
                    </div>
                    <span class="stack-card-source">uwindsor.ca</span>
                  </div>
                </div>
                <!-- Card 4 — Accent Blue -->
                <div class="stack-card stack-card-4" data-card-index="3">
                  <div class="stack-card-inner">
                    <div class="stack-card-header">
                      <h3>Master's Thesis (Working Title)</h3>
                      <div class="stack-card-actions">
                        <a href="#contact" title="Contact for Details"><i class="ph ph-envelope-simple"></i></a>
                      </div>
                    </div>
                    <div class="stack-card-meta">
                      <span class="stack-card-status">In Progress · 2025</span>
                    </div>
                    <p class="stack-card-desc">Currently developing my master's thesis research in Computer Science at
                      the University of Windsor. Full thesis document will be available upon completion.</p>
                    <div class="stack-card-tags">
                      <span>M.Sc. Thesis</span>
                      <span>Research</span>
                    </div>
                    <span class="stack-card-source">uwindsor.ca</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" aria-label="Contact section" class="contact-section" style="position: relative;">
      <img src="website_logo.png" alt="Vimanga Umange Logo" class="contact-logo">

      <div class="section-container">
        <!-- Alert Message -->
        <div class="contact-alert" id="contactAlert" style="display: none;">
          <i class="ph-fill ph-check-circle"></i>
          <span id="alertMessage">Your message has been sent!</span>
        </div>

        <div class="contact-wrapper">
          <!-- Minimal Form Header -->
          <h2 class="contact-title section-title" style="text-align: center; display: block;">Send me a message!</h2>
          <p class="contact-subtitle">I'm always interested in discussing new opportunities or collaborative projects.
            Whether you have a question about my work or want to explore potential collaborations, feel free to reach
            out.</p>

          <!-- Contact Form -->
          <form class="minimal-contact-form" id="contactForm">
            <div class="form-row">
              <div class="form-field">
                <label for="name" class="field-label">Your Name</label>
                <input type="text" id="name" name="name" class="field-input-minimal" placeholder="Enter your name"
                  autocomplete="name" required />
              </div>

              <div class="form-field">
                <label for="email" class="field-label">Email Address</label>
                <input type="email" id="email" name="email" class="field-input-minimal"
                  placeholder="Enter your email address" autocomplete="email" required />
              </div>
            </div>

            <div class="form-field">
              <label for="message" class="field-label">Your Message</label>
              <textarea id="message" name="message" rows="3" class="field-input-minimal"
                placeholder="Tell me about your project, opportunity, or just say hello!" required></textarea>
              <div class="word-count-wrapper" id="wordCountWrapper">
                <span class="word-count-text status-green" id="wordCountText">0/500</span>
                <div class="word-count-pill">
                  <div class="word-count-fill status-green" id="wordCountFill"></div>
                </div>
              </div>
            </div>

            <button type="submit" class="shoot-btn" id="submitBtn">
              <span id="btnText">SHOOT</span>
              <span class="btn-arrow">→</span>
            </button>
          </form>

          <!-- Social Links -->
          <div class="contact-social">
            <p class="social-label">Find me on</p>
            <div class="social-links">
              <a href="https://github.com/vimanga-x64" target="_blank" class="social-link" aria-label="GitHub">
                <svg class="social-icon" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"
                    transform="scale(64)" fill="currentColor" />
                </svg>
              </a>
              <a href="https://www.linkedin.com/in/vimanga-umange" target="_blank" class="social-link"
                aria-label="LinkedIn">
                <svg class="social-icon" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"
                  preserveAspectRatio="xMidYMid">
                  <path
                    d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"
                    fill="#0A66C2" />
                </svg>
              </a>
              <a href="https://medium.com/@vishudha98" target="_blank" class="social-link" aria-label="Medium">
                <svg class="social-icon" viewBox="0 -55 256 256" xmlns="http://www.w3.org/2000/svg"
                  preserveAspectRatio="xMidYMid">
                  <path
                    d="M72.2009141,1.42108547e-14 C112.076502,1.42108547e-14 144.399375,32.5485469 144.399375,72.6964154 C144.399375,112.844284 112.074049,145.390378 72.2009141,145.390378 C32.327779,145.390378 0,112.844284 0,72.6964154 C0,32.5485469 32.325326,1.42108547e-14 72.2009141,1.42108547e-14 Z M187.500628,4.25836743 C207.438422,4.25836743 223.601085,34.8960455 223.601085,72.6964154 L223.603538,72.6964154 C223.603538,110.486973 207.440875,141.134463 187.503081,141.134463 C167.565287,141.134463 151.402624,110.486973 151.402624,72.6964154 C151.402624,34.9058574 167.562834,4.25836743 187.500628,4.25836743 Z M243.303393,11.3867175 C250.314,11.3867175 256,38.835526 256,72.6964154 C256,106.547493 250.316453,134.006113 243.303393,134.006113 C236.290333,134.006113 230.609239,106.554852 230.609239,72.6964154 C230.609239,38.837979 236.292786,11.3867175 243.303393,11.3867175 Z"
                    fill="currentColor" />
                </svg>
              </a>
              <a href="https://www.cloudskillsboost.google/public_profiles/c0bb8d2a-59e1-4a36-90e4-81a792ae00ba"
                target="_blank" class="social-link" aria-label="Google Cloud">
                <img src="logos/google-cloud.svg" alt="Google Cloud" class="social-img" />
              </a>
            </div>
          </div>
        </div>
      </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <p>© 2026 Vimanga Umange. <a href="humans.txt" class="footer-link">Crafted by yours truly</a>.</p>
    </div>
  </footer>

  <script>
    // Theme Toggle
    const menuThemeToggle = document.getElementById('menuThemeToggle');
    const html = document.documentElement;

    const currentTheme = localStorage.getItem('theme') || 'dark';
    html.setAttribute('data-theme', currentTheme);

    menuThemeToggle.addEventListener('click', () => {
      const theme = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);

      // Update particle color based on theme
      if (window.particleSystem) {
        window.particleSystem.updateColor(theme === 'dark' ? '#ffffff' : '#1e1e23');
      }
    });

    // Particle System
    class ParticleSystem {
      constructor(canvasId, options = {}) {
        this.canvas = document.getElementById(canvasId);
        this.ctx = this.canvas.getContext('2d');

        // Options
        this.quantity = options.quantity || 100;
        this.staticity = options.staticity || 50;
        this.ease = options.ease || 50;
        this.size = options.size || 0.4;
        this.color = options.color || '#ffffff';
        this.vx = options.vx || 0;
        this.vy = options.vy || 0;

        // State
        this.particles = [];
        this.mouse = { x: 0, y: 0 };
        this.canvasSize = { w: 0, h: 0 };
        this.dpr = window.devicePixelRatio || 1;
        this.animationFrame = null;
        this.rgb = this.hexToRgb(this.color);

        // Bind methods
        this.handleResize = this.handleResize.bind(this);
        this.handleMouseMove = this.handleMouseMove.bind(this);
        this.animate = this.animate.bind(this);
        this.handleIntersection = this.handleIntersection.bind(this);

        this.isVisible = true;
        this.observer = new IntersectionObserver(this.handleIntersection, { threshold: 0 });

        // Initialize
        this.init();
      }

      hexToRgb(hex) {
        hex = hex.replace('#', '');
        if (hex.length === 3) {
          hex = hex.split('').map(char => char + char).join('');
        }
        const hexInt = parseInt(hex, 16);
        const red = (hexInt >> 16) & 255;
        const green = (hexInt >> 8) & 255;
        const blue = hexInt & 255;
        return [red, green, blue];
      }

      init() {
        this.resizeCanvas();
        window.addEventListener('resize', this.handleResize);
        window.addEventListener('mousemove', this.handleMouseMove);
        this.observer.observe(this.canvas);
        this.animate();
      }

      handleIntersection(entries) {
        entries.forEach(entry => {
          this.isVisible = entry.isIntersecting;
          if (this.isVisible && !this.animationFrame) {
            this.lastTime = performance.now();
            this.animate(this.lastTime);
          }
        });
      }

      handleResize() {
        clearTimeout(this.resizeTimeout);
        this.resizeTimeout = setTimeout(() => {
          this.resizeCanvas();
        }, 200);
      }

      handleMouseMove(e) {
        const rect = this.canvas.getBoundingClientRect();
        const { w, h } = this.canvasSize;
        const x = e.clientX - rect.left - w / 2;
        const y = e.clientY - rect.top - h / 2;
        const inside = x < w / 2 && x > -w / 2 && y < h / 2 && y > -h / 2;

        if (inside) {
          this.mouse.x = x;
          this.mouse.y = y;
        }
      }

      resizeCanvas() {
        this.canvasSize.w = window.innerWidth;
        this.canvasSize.h = window.innerHeight;

        this.canvas.width = this.canvasSize.w * this.dpr;
        this.canvas.height = this.canvasSize.h * this.dpr;
        this.canvas.style.width = `${this.canvasSize.w}px`;
        this.canvas.style.height = `${this.canvasSize.h}px`;
        this.ctx.scale(this.dpr, this.dpr);

        // Create particles
        this.particles = [];
        for (let i = 0; i < this.quantity; i++) {
          this.particles.push(this.createParticle());
        }
      }

      createParticle() {
        return {
          x: Math.floor(Math.random() * this.canvasSize.w),
          y: Math.floor(Math.random() * this.canvasSize.h),
          translateX: 0,
          translateY: 0,
          size: Math.floor(Math.random() * 2) + this.size,
          alpha: 0,
          targetAlpha: parseFloat((Math.random() * 0.6 + 0.1).toFixed(1)),
          dx: (Math.random() - 0.5) * 0.1,
          dy: (Math.random() - 0.5) * 0.1,
          magnetism: 0.1 + Math.random() * 4
        };
      }

      drawParticle(particle) {
        const { x, y, translateX, translateY, size, alpha } = particle;

        this.ctx.save();
        this.ctx.translate(translateX, translateY);
        this.ctx.beginPath();
        this.ctx.arc(x, y, size, 0, 2 * Math.PI);
        this.ctx.fillStyle = `rgba(${this.rgb.join(', ')}, ${alpha})`;
        this.ctx.fill();
        this.ctx.restore();
      }

      remapValue(value, start1, end1, start2, end2) {
        const remapped = ((value - start1) * (end2 - start2)) / (end1 - start1) + start2;
        return remapped > 0 ? remapped : 0;
      }

      animate(timestamp) {
        // Delta time for frame-rate independence (normalize to 60fps)
        if (!this.lastTime) this.lastTime = timestamp;
        const deltaTime = (timestamp - this.lastTime) / 16.67 || 1;
        this.lastTime = timestamp;

        this.ctx.clearRect(0, 0, this.canvasSize.w, this.canvasSize.h);

        this.particles.forEach((particle, i) => {
          // Calculate distance from edges
          const edge = [
            particle.x + particle.translateX - particle.size,
            this.canvasSize.w - particle.x - particle.translateX - particle.size,
            particle.y + particle.translateY - particle.size,
            this.canvasSize.h - particle.y - particle.translateY - particle.size
          ];

          const closestEdge = Math.min(...edge);
          const remapClosestEdge = parseFloat(this.remapValue(closestEdge, 0, 20, 0, 1).toFixed(2));

          // Handle alpha
          if (remapClosestEdge > 1) {
            particle.alpha += 0.02 * deltaTime;
            if (particle.alpha > particle.targetAlpha) {
              particle.alpha = particle.targetAlpha;
            }
          } else {
            particle.alpha = particle.targetAlpha * remapClosestEdge;
          }

          // Update position with delta time
          particle.x += (particle.dx + this.vx) * deltaTime;
          particle.y += (particle.dy + this.vy) * deltaTime;

          // Mouse interaction with delta time
          const moveX = (this.mouse.x / (this.staticity / particle.magnetism) - particle.translateX) / this.ease;
          const moveY = (this.mouse.y / (this.staticity / particle.magnetism) - particle.translateY) / this.ease;
          particle.translateX += moveX * deltaTime;
          particle.translateY += moveY * deltaTime;

          // Draw particle
          this.drawParticle(particle);

          // Reset particle if out of bounds
          if (
            particle.x < -particle.size ||
            particle.x > this.canvasSize.w + particle.size ||
            particle.y < -particle.size ||
            particle.y > this.canvasSize.h + particle.size
          ) {
            this.particles[i] = this.createParticle();
          }
        });

        if (this.isVisible) {
          this.animationFrame = requestAnimationFrame(this.animate);
        } else {
          this.animationFrame = null;
        }
      }

      updateColor(newColor) {
        this.color = newColor;
        this.rgb = this.hexToRgb(newColor);
      }

      destroy() {
        window.removeEventListener('resize', this.handleResize);
        window.removeEventListener('mousemove', this.handleMouseMove);
        this.observer.disconnect();
        if (this.animationFrame) {
          cancelAnimationFrame(this.animationFrame);
        }
      }
    }

    // Initialize particle system
    window.addEventListener('load', () => {
      const theme = html.getAttribute('data-theme');
      const particleColor = theme === 'dark' ? '#ffffff' : '#1e1e23';

      window.particleSystem = new ParticleSystem('particles-canvas', {
        quantity: 100,
        staticity: 50,
        ease: 50,
        size: 0.4,
        color: particleColor,
        vx: 0,
        vy: 0
      });
    });

    // Hamburger Menu Toggle
    const menuToggle = document.getElementById('menuToggle');
    const menuOverlay = document.getElementById('menuOverlay');
    const menuBackdrop = document.getElementById('menuBackdrop');
    let isMenuOpen = false;

    function toggleMenu() {
      isMenuOpen = !isMenuOpen;
      menuToggle.classList.toggle('active', isMenuOpen);
      menuOverlay.classList.toggle('active', isMenuOpen);
      menuBackdrop.classList.toggle('active', isMenuOpen);
      document.body.style.overflow = isMenuOpen ? 'hidden' : '';
    }

    menuToggle.addEventListener('click', toggleMenu);
    menuBackdrop.addEventListener('click', toggleMenu);

    // Close menu when clicking nav links
    const menuNavLinks = document.querySelectorAll('.menu-nav-item');
    menuNavLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (isMenuOpen) {
          toggleMenu();
        }
      });
    });

    // Show particles only in contact section
    let contactScrollTicking = false;
    window.addEventListener('scroll', () => {
      if (!contactScrollTicking) {
        window.requestAnimationFrame(() => {
          const contactSection = document.getElementById('contact');
          if (contactSection) {
            const rect = contactSection.getBoundingClientRect();
            const windowHeight = window.innerHeight;

            // Show particles when contact section is in view
            if (rect.top < windowHeight && rect.bottom > 0) {
              document.body.classList.add('in-contact');
            } else {
              document.body.classList.remove('in-contact');
            }
          }
          contactScrollTicking = false;
        });
        contactScrollTicking = true;
      }
    });

    // Bouncing Code Blocks with 3D Parallax


    // Scroll indicator click
    const scrollIndicator = document.getElementById('scrollIndicator');
    scrollIndicator.addEventListener('click', () => {
      document.getElementById('about').scrollIntoView({ behavior: 'smooth' });
    });

    // Navigation active state
    const sections = document.querySelectorAll('section, #stackSection');
    const menuNavItems = document.querySelectorAll('.menu-nav-item');

    // Setup capsule text characters for wavy animation
    const capsuleItems = document.querySelectorAll('.capsule-item');
    capsuleItems.forEach(item => {
      const textNode = item.querySelector('.capsule-text');
      if (textNode) {
        const text = textNode.getAttribute('data-text') || textNode.textContent;
        textNode.innerHTML = '';
        text.split('').forEach((char, i) => {
          const span = document.createElement('span');
          span.textContent = char === ' ' ? '\u00A0' : char;
          span.className = 'capsule-char';
          span.style.animationDelay = `${i * 0.04}s`;
          textNode.appendChild(span);
        });
      }
    });

    let navScrollTicking = false;
    window.addEventListener('scroll', () => {
      if (!navScrollTicking) {
        window.requestAnimationFrame(() => {
          let current = '';

          sections.forEach(section => {
            // Use getBoundingClientRect().top for accurate viewport-relative offsets
            // Prevents nested elements like #stackSection from having falsely small offsetTops
            const top = section.getBoundingClientRect().top;
            if (top <= 200) {
              current = section.getAttribute('id');
            }
          });

          menuNavItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('href').slice(1) === current) {
              item.classList.add('active');
            }
          });

          // Update capsule nav with wavy reveal re-trigger
          capsuleItems.forEach(item => {
            if (item.dataset.section === current) {
              if (!item.classList.contains('active')) {
                item.classList.add('active');
                // Retrigger animation by cloning text node
                const textNode = item.querySelector('.capsule-text');
                if (textNode) {
                  const clone = textNode.cloneNode(true);
                  textNode.parentNode.replaceChild(clone, textNode);
                }
              }
            } else {
              item.classList.remove('active');
            }
          });

          // Hide scroll indicator and hero elements after scrolling
          const scrollIndicator = document.getElementById('scrollIndicator');
          const heroNameSection = document.querySelector('.hero-name-section');
          const heroSocialLinks = document.querySelector('.hero-social-links');
          const heroButtons = document.querySelector('.hero-buttons');

          if (window.scrollY > 100) {
            scrollIndicator.style.opacity = '0';
            scrollIndicator.style.pointerEvents = 'none';
            if (heroNameSection) heroNameSection.classList.add('hidden');
            if (heroSocialLinks) heroSocialLinks.classList.add('hidden');
            if (heroButtons) heroButtons.classList.add('hidden');
          } else {
            scrollIndicator.style.opacity = '1';
            scrollIndicator.style.pointerEvents = 'auto';
            if (heroNameSection) heroNameSection.classList.remove('hidden');
            if (heroSocialLinks) heroSocialLinks.classList.remove('hidden');
            if (heroButtons) heroButtons.classList.remove('hidden');
          }

          navScrollTicking = false;
        });
        navScrollTicking = true;
      }
    });

    // Smooth scroll for hero menu
    menuNavItems.forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(item.getAttribute('href'));
        target.scrollIntoView({ behavior: 'smooth' });
      });
    });

    // Capsule click navigation
    capsuleItems.forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const sectionId = item.dataset.section;
        const target = document.getElementById(sectionId);
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });

    // Scramble text effect for section titles
    class TextScramble {
      constructor(el) {
        this.el = el;
        this.chars = '!<>-_\\/[]{}—=+*^?#________';
        this.originalText = el.textContent;
        this.update = this.update.bind(this);
      }

      setText(newText) {
        const oldText = this.el.textContent;
        const length = Math.max(oldText.length, newText.length);
        const promise = new Promise((resolve) => this.resolve = resolve);
        this.queue = [];

        for (let i = 0; i < length; i++) {
          const from = oldText[i] || '';
          const to = newText[i] || '';
          const start = Math.floor(Math.random() * 40);
          const end = start + Math.floor(Math.random() * 40);
          this.queue.push({ from, to, start, end });
        }

        cancelAnimationFrame(this.frameRequest);
        this.frame = 0;
        this.update();
        return promise;
      }

      update() {
        let output = '';
        let complete = 0;

        for (let i = 0, n = this.queue.length; i < n; i++) {
          let { from, to, start, end, char } = this.queue[i];

          if (this.frame >= end) {
            complete++;
            output += to;
          } else if (this.frame >= start) {
            if (!char || Math.random() < 0.28) {
              char = this.randomChar();
              this.queue[i].char = char;
            }
            output += `<span class="letter scrambling">${char}</span>`;
          } else {
            output += from;
          }
        }

        this.el.innerHTML = output;

        if (complete === this.queue.length) {
          this.resolve();
        } else {
          this.frameRequest = requestAnimationFrame(this.update);
          this.frame++;
        }
      }

      randomChar() {
        return this.chars[Math.floor(Math.random() * this.chars.length)];
      }
    }



    // OPTIMIZED Reveal animations using IntersectionObserver
    const revealObserverOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.15
    };

    const revealObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const element = entry.target;

          // Add active class
          element.classList.add('active');


          // Stop observing once revealed
          observer.unobserve(element);
        }
      });
    }, revealObserverOptions);

    // Initialize observers for all reveal elements
    function initRevealObservers() {
      const elementsToReveal = document.querySelectorAll('.reveal, .reveal-left, .reveal-right, .section-title, .project-card');
      elementsToReveal.forEach(el => revealObserver.observe(el));
    }

    // Call on DOM ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initRevealObservers);
    } else {
      initRevealObservers();
    }

    // Timeline circle filling animation
    // Loading screen - hide when page is fully loaded
    window.addEventListener('load', () => {
      const loadingScreen = document.getElementById('loading-screen');
      setTimeout(() => {
        loadingScreen.classList.add('hidden');
        setTimeout(() => {
          loadingScreen.style.display = 'none';
        }, 500);
      }, 500); // Small delay for smooth transition
    });

    // Copy email function
    function copyEmail() {
      const email = 'vimangau@gmail.com';
      navigator.clipboard.writeText(email).then(() => {
        const copyIcon = document.getElementById('copyIcon');
        const copyText = document.getElementById('copyText');

        // Change to checkmark
        copyIcon.className = 'ph-fill ph-check';
        copyText.textContent = 'Copied!';

        // Reset after 2 seconds
        setTimeout(() => {
          copyIcon.className = 'ph ph-copy';
          copyText.textContent = 'Copy';
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy:', err);
        alert('Email: vimangau@gmail.com');
      });
    }

    // Hero Particle Constellation
    class HeroParticles {
      constructor() {
        this.canvas = document.getElementById('hero-particles-canvas');
        if (!this.canvas) return;
        this.ctx = this.canvas.getContext('2d');
        this.particles = [];
        this.mouse = { x: -1000, y: -1000 };
        this.width = 0;
        this.height = 0;
        this.isVisible = true;
        this.time = 0;

        this.PARTICLE_COUNT = 80;
        this.CONNECTION_DIST = 140;
        this.MOUSE_DIST = 220;

        this.init();
      }

      init() {
        this.resize();
        window.addEventListener('resize', () => this.resize());
        window.addEventListener('mousemove', (e) => {
          this.mouse.x = e.clientX;
          this.mouse.y = e.clientY;
        });

        const heroSection = document.getElementById('home');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            this.isVisible = entry.isIntersecting;
          });
        }, { threshold: 0.1 });

        if (heroSection) observer.observe(heroSection);
        this.animate();
      }

      resize() {
        this.width = this.canvas.width = window.innerWidth;
        this.height = this.canvas.height = window.innerHeight;
        this.createParticles();
      }

      createParticles() {
        this.particles = [];
        const count = Math.min(this.PARTICLE_COUNT, Math.floor((this.width * this.height) / 15000));
        for (let i = 0; i < count; i++) {
          this.particles.push({
            x: Math.random() * this.width,
            y: Math.random() * this.height,
            vx: (Math.random() - 0.5) * 0.3,
            vy: (Math.random() - 0.5) * 0.3,
            size: Math.random() * 1.5 + 0.5,
            baseAlpha: Math.random() * 0.3 + 0.05,
            pulseOffset: Math.random() * Math.PI * 2
          });
        }
      }

      animate() {
        if (!this.isVisible) {
          requestAnimationFrame(() => this.animate());
          return;
        }

        this.time += 0.005;
        this.ctx.clearRect(0, 0, this.width, this.height);

        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        const dotColor = isDark ? '255, 255, 255' : '30, 30, 30';
        const lineColor = isDark ? '99, 102, 241' : '99, 102, 241';
        const accentColor = isDark ? '139, 92, 246' : '99, 102, 241';

        // Update and draw particles
        this.particles.forEach((p, i) => {
          // Drift movement
          p.x += p.vx;
          p.y += p.vy;

          // Wrap around edges
          if (p.x < 0) p.x = this.width;
          if (p.x > this.width) p.x = 0;
          if (p.y < 0) p.y = this.height;
          if (p.y > this.height) p.y = 0;

          // Mouse influence - gentle push
          const mdx = this.mouse.x - p.x;
          const mdy = this.mouse.y - p.y;
          const mdist = Math.sqrt(mdx * mdx + mdy * mdy);

          if (mdist < this.MOUSE_DIST && mdist > 0) {
            const force = (this.MOUSE_DIST - mdist) / this.MOUSE_DIST;
            p.vx -= (mdx / mdist) * force * 0.015;
            p.vy -= (mdy / mdist) * force * 0.015;
          }

          // Damping
          p.vx *= 0.998;
          p.vy *= 0.998;

          // Pulse
          const pulse = Math.sin(this.time * 2 + p.pulseOffset) * 0.5 + 0.5;
          const alpha = p.baseAlpha + pulse * 0.15;
          const size = p.size + pulse * 0.4;

          // Glow near cursor
          let glowAlpha = 0;
          if (mdist < this.MOUSE_DIST) {
            glowAlpha = (1 - mdist / this.MOUSE_DIST) * 0.5;
          }

          // Draw particle
          if (glowAlpha > 0) {
            this.ctx.beginPath();
            this.ctx.arc(p.x, p.y, size + 3, 0, Math.PI * 2);
            this.ctx.fillStyle = `rgba(${accentColor}, ${glowAlpha * 0.15})`;
            this.ctx.fill();
          }

          this.ctx.beginPath();
          this.ctx.arc(p.x, p.y, size, 0, Math.PI * 2);
          this.ctx.fillStyle = `rgba(${glowAlpha > 0.1 ? accentColor : dotColor}, ${alpha + glowAlpha})`;
          this.ctx.fill();

          // Connections
          for (let j = i + 1; j < this.particles.length; j++) {
            const other = this.particles[j];
            const dx = p.x - other.x;
            const dy = p.y - other.y;
            const dist = Math.sqrt(dx * dx + dy * dy);

            if (dist < this.CONNECTION_DIST) {
              const lineAlpha = (1 - dist / this.CONNECTION_DIST) * 0.12;

              // Brighten connections near mouse
              let boost = 0;
              const midX = (p.x + other.x) / 2;
              const midY = (p.y + other.y) / 2;
              const midDist = Math.sqrt((this.mouse.x - midX) ** 2 + (this.mouse.y - midY) ** 2);
              if (midDist < this.MOUSE_DIST) {
                boost = (1 - midDist / this.MOUSE_DIST) * 0.25;
              }

              this.ctx.beginPath();
              this.ctx.moveTo(p.x, p.y);
              this.ctx.lineTo(other.x, other.y);
              this.ctx.strokeStyle = `rgba(${boost > 0.05 ? lineColor : dotColor}, ${lineAlpha + boost})`;
              this.ctx.lineWidth = 0.6;
              this.ctx.stroke();
            }
          }
        });

        requestAnimationFrame(() => this.animate());
      }
    }

    // Hero UI Parallax Effect (Name, Buttons, Socials follow cursor)
    function initHeroParallax() {
      const heroSection = document.querySelector('.hero-section');
      const nameSection = document.querySelector('.hero-name-section');
      const buttonsSection = document.querySelector('.hero-buttons');
      const socialSection = document.querySelector('.hero-social-links');

      if (!heroSection || !nameSection) return;

      let mouseX = 0;
      let mouseY = 0;
      let currentX = 0;
      let currentY = 0;
      let isInHero = true;

      const lerp = (start, end, factor) => start + (end - start) * factor;

      window.addEventListener('mousemove', (e) => {
        mouseX = (e.clientX / window.innerWidth) * 2 - 1;
        mouseY = (e.clientY / window.innerHeight) * 2 - 1;
      });

      // Check if we're in hero section
      const observer = new IntersectionObserver((entries) => {
        isInHero = entries[0].isIntersecting;
        if (!isInHero) {
          // Reset transforms when leaving hero
          if (nameSection) nameSection.style.transform = '';
          if (buttonsSection) buttonsSection.style.transform = '';
          if (socialSection) socialSection.style.transform = '';
        }
      }, { threshold: 0.5 });
      observer.observe(heroSection);

      let parallaxLastTime = 0;

      function animateParallax(timestamp) {
        if (!isInHero) {
          requestAnimationFrame(animateParallax);
          return;
        }

        // Delta time for frame-rate independence
        if (!parallaxLastTime) parallaxLastTime = timestamp;
        const deltaTime = (timestamp - parallaxLastTime) / 16.67 || 1;
        parallaxLastTime = timestamp;

        // Adjust lerp factor for frame-rate independence
        const baseFactor = 0.08;
        const adjustedFactor = 1 - Math.pow(1 - baseFactor, deltaTime);

        currentX = lerp(currentX, mouseX, adjustedFactor);
        currentY = lerp(currentY, mouseY, adjustedFactor);

        // Movement values - subtle enough to not affect usability
        if (nameSection) {
          nameSection.style.transform = `translate(${currentX * 15}px, ${currentY * 15}px)`;
        }
        if (buttonsSection) {
          buttonsSection.style.transform = `translate(${currentX * 10}px, ${currentY * 10}px)`;
        }
        if (socialSection) {
          socialSection.style.transform = `translate(${currentX * 12}px, ${currentY * 12}px)`;
        }

        requestAnimationFrame(animateParallax);
      }

      animateParallax();
    }

    // Initialize Hero Particles, Cursor Glow, and Parallax
    window.addEventListener('load', () => {
      new HeroParticles();
      initHeroParallax();
    });

    // Hero video background — smooth crossfade with preloading
    (function initHeroVideo() {
      const heroSection = document.querySelector('.hero-section');
      const videoA = document.getElementById('heroVideoA');
      const videoB = document.getElementById('heroVideoB');
      if (!heroSection || !videoA || !videoB) return;

      const sources = [
        'videos/hero-optimized/vecteezy_abstract-light-blue-and-black-shape-waving-gently-on-a-dark_71755160_hero.mp4',
        'videos/hero-optimized/vecteezy_abstract-liquid-metal-with-smooth-curves-and-golden-accents_71754900_hero.mp4',
        'videos/hero-optimized/vecteezy_abstract-metallic-liquid-flowing-with-blue-and-golden_71754937_hero.mp4',
        'videos/hero-optimized/vecteezy_abstract-metallic-whirlpool-in-warm-bronze-tones_52447248_hero.mp4',
        'videos/hero-optimized/vecteezy_abstract-shiny-liquid-flow-with-reflections-on-a-dark_72005629_hero.mp4'
      ];

      // These files are very large. Rotating/crossfading forces additional downloads/decodes
      // and commonly causes buffering hangs on slow connections or low-end devices.
      const prefersReducedMotion = !!(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches);
      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
      const isSlowConnection = !!(
        connection && (
          connection.saveData ||
          (typeof connection.effectiveType === 'string' && /(^|\b)(2g|3g)(\b|$)/i.test(connection.effectiveType)) ||
          (typeof connection.downlink === 'number' && connection.downlink > 0 && connection.downlink < 5)
        )
      );
      const isLowMemoryDevice = (typeof navigator.deviceMemory === 'number' && navigator.deviceMemory > 0 && navigator.deviceMemory <= 4);
      const enableRotation = !(prefersReducedMotion || isSlowConnection || isLowMemoryDevice);

      let order = [];
      let idx = 0;
      let currentSrc = '';
      let activeEl = videoA;
      let standbyEl = videoB;
      let busy = false;
      let preloadTimer = null;
      let fadeTimer = null;
      let nextReady = null;          // Promise that resolves when standby is buffered
      const DISPLAY_MS = 15000;   // how long each video stays visible
      const PRELOAD_MS = 2500;    // start preloading this long before the fade
      const FADE_MS = 1500;    // CSS transition duration

      // Pause/stop work when hero is off-screen or tab is hidden.
      let isPlaybackAllowed = true;

      function pauseAll() {
        try { videoA.pause(); } catch (_) { }
        try { videoB.pause(); } catch (_) { }
      }

      function resumeActive() {
        if (!isPlaybackAllowed) return;
        try { activeEl.play(); } catch (_) { }
      }

      // IntersectionObserver to avoid decoding/downloading videos when not visible
      try {
        const visObserver = new IntersectionObserver((entries) => {
          const entry = entries[0];
          const inView = !!(entry && entry.isIntersecting);
          if (!inView) {
            isPlaybackAllowed = false;
            clearTimers();
            pauseAll();
            return;
          }
          isPlaybackAllowed = true;
          resumeActive();
          schedulePreloadAndFade();
        }, { threshold: 0.25 });
        visObserver.observe(heroSection);
      } catch (_) {
        // Older browsers: just keep going
      }

      document.addEventListener('visibilitychange', () => {
        if (document.visibilityState === 'hidden') {
          isPlaybackAllowed = false;
          clearTimers();
          pauseAll();
        } else {
          isPlaybackAllowed = true;
          resumeActive();
          schedulePreloadAndFade();
        }
      });

      /* ---- helpers ---- */
      function shuffle(a) {
        const arr = a.slice();
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
      }

      function pickNext() {
        if (!order.length || idx >= order.length) {
          order = shuffle(sources);
          if (order.length > 1 && order[0] === currentSrc) {
            [order[0], order[1]] = [order[1], order[0]];
          }
          idx = 0;
        }
        return order[idx++];
      }

      /**
       * Release a video element.
       * We unload the src during idle time to prevent memory/decoder buildup,
       * but avoid doing it during the fade (which can cause a visible stutter).
       */
      function releaseVideo(el) {
        try { el.pause(); } catch (_) { }
        try { el.currentTime = 0; } catch (_) { }

        const unload = () => {
          try { el.removeAttribute('src'); } catch (_) { }
          try { el.load(); } catch (_) { }
          try { el.preload = 'none'; } catch (_) { }
        };

        if (typeof window.requestIdleCallback === 'function') {
          window.requestIdleCallback(unload, { timeout: 2000 });
        } else {
          setTimeout(unload, 250);
        }
      }

      function waitForFirstFrame(el, timeoutMs = 1200) {
        return new Promise(resolve => {
          let done = false;
          const finish = () => {
            if (done) return;
            done = true;
            clearTimeout(t);
            resolve();
          };
          const t = setTimeout(finish, timeoutMs);

          if (typeof el.requestVideoFrameCallback === 'function') {
            try { el.requestVideoFrameCallback(() => finish()); } catch (_) { finish(); }
          } else {
            requestAnimationFrame(() => finish());
          }
        });
      }

      /**
       * Load + buffer a video element.
       * Resolves { ok: true/false, src } when ready.
       */
      function prepareVideo(el, src) {
        return new Promise(resolve => {
          let settled = false;
          const finish = (ok) => {
            if (settled) return;
            settled = true;
            clearTimeout(safety);
            el.removeEventListener('canplay', onReady);
            el.removeEventListener('error', onError);
            resolve({ ok, src });
          };
          const onReady = () => finish(true);
          const onError = () => finish(false);
          // Safety net: on some hosts `canplaythrough` may never fire.
          // `canplay` is a better practical signal that playback can start.
          const safety = setTimeout(() => finish(el.readyState >= 3), 10000);

          el.addEventListener('canplay', onReady, { once: true });
          el.addEventListener('error', onError, { once: true });

          el.preload = 'auto';
          el.loop = true;
          el.muted = true;
          el.playsInline = true;
          el.src = src;
          el.load();

          // Already buffered (e.g. from browser cache)
          if (el.readyState >= 3) finish(true);
        });
      }

      /* ---- scheduling ---- */
      function schedulePreloadAndFade() {
        if (!isPlaybackAllowed) return;
        if (!enableRotation) return;
        clearTimers();
        // After (DISPLAY_MS - PRELOAD_MS), start preloading the next video
        preloadTimer = setTimeout(() => {
          if (!isPlaybackAllowed) return;
          const src = pickNext();
          nextReady = prepareVideo(standbyEl, src);
        }, Math.max(DISPLAY_MS - PRELOAD_MS, 1000));

        // After DISPLAY_MS, execute the crossfade (preload should be done by now)
        fadeTimer = setTimeout(crossfade, DISPLAY_MS);
      }

      function clearTimers() {
        if (preloadTimer) { clearTimeout(preloadTimer); preloadTimer = null; }
        if (fadeTimer) { clearTimeout(fadeTimer); fadeTimer = null; }
      }

      /* ---- crossfade ---- */
      async function crossfade() {
        if (!isPlaybackAllowed) return;
        if (!enableRotation) return;
        if (busy) return;
        busy = true;

        // If preloading hasn't started yet (shouldn't happen, but be safe)
        if (!nextReady) {
          const src = pickNext();
          nextReady = prepareVideo(standbyEl, src);
        }

        // Wait for preload to finish (usually already resolved)
        const result = await nextReady;
        nextReady = null;

        if (!result.ok) {
          busy = false;
          schedulePreloadAndFade();
          return;
        }

        currentSrc = result.src;

        // Start playing while still invisible
        standbyEl.currentTime = 0;
        try { await standbyEl.play(); } catch (_) { }

        // Wait for the first decoded frame so we don't fade to a frozen poster.
        await waitForFirstFrame(standbyEl);

        // Let a few frames decode before we make it visible — prevents a
        // blank/frozen flash during the crossfade.
        await new Promise(r => {
          requestAnimationFrame(() => requestAnimationFrame(() => requestAnimationFrame(r)));
        });

        // Crossfade
        standbyEl.classList.add('is-visible');
        activeEl.classList.remove('is-visible');
        heroSection.classList.add('video-active');

        // Wait for CSS fade to finish, then clean up the old element
        // Use rAF instead of a raw setTimeout so the cleanup doesn't
        // compete with the compositor during the fade animation.
        await new Promise(r => setTimeout(r, FADE_MS + 200));

        // Release old element gently (no empty-src reload)
        releaseVideo(activeEl);

        // Swap roles
        const tmp = activeEl;
        activeEl = standbyEl;
        standbyEl = tmp;

        busy = false;
        schedulePreloadAndFade();
      }

      /* ---- bootstrap ---- */
      async function start() {
        const src = pickNext();
        currentSrc = src;
        const result = await prepareVideo(activeEl, src);
        if (!result.ok) { if (enableRotation) schedulePreloadAndFade(); return; }
        try { await activeEl.play(); } catch (_) { }
        await waitForFirstFrame(activeEl);
        activeEl.classList.add('is-visible');
        heroSection.classList.add('video-active');
        if (enableRotation) schedulePreloadAndFade();
      }

      start();
    })();

    // Timeline Scroll Animation with Circle Filling - Zen & Proportional
    // Timeline Scroll Animation with Circle Filling - Zen & Proportional
    function initTimelineAnimation() {
      const timelineWrapper = document.getElementById('timelineWrapper');
      const timeline = document.querySelector('.timeline');
      const timelineItems = document.querySelectorAll('.timeline-item');

      if (!timelineWrapper || !timeline || timelineItems.length === 0) return;

      function updateTimelineProgress() {
        const timelineRect = timeline.getBoundingClientRect();
        const windowHeight = window.innerHeight;
        const timelineTop = timelineRect.top;
        const timelineBottom = timelineRect.bottom;
        const timelineHeight = timelineRect.height;

        // Calculate progress: line should reach 100% when the bottom of timeline reaches top of viewport
        // Start: When top of timeline reaches bottom of viewport (progress = 0%)
        // End: When bottom of timeline reaches top of viewport (progress = 100%)

        let scrollProgress = 0;

        if (timelineTop < windowHeight && timelineBottom > 0) {
          // Timeline is visible in viewport
          const scrollableDistance = timelineHeight + windowHeight;
          const scrolled = windowHeight - timelineTop;
          scrollProgress = Math.max(0, Math.min(1, scrolled / scrollableDistance));
        } else if (timelineBottom <= 0) {
          // Timeline has scrolled past (fully above viewport)
          scrollProgress = 1;
        }

        // Apply smoothstep easing for zen-like feel
        const easedProgress = scrollProgress * scrollProgress * (3 - 2 * scrollProgress);

        // Update CSS variable for the progress line
        document.documentElement.style.setProperty('--timeline-scroll-progress', `${easedProgress * 100}%`);

        // Activate circles individually as they reach 60% of viewport
        timelineItems.forEach((item) => {
          const itemRect = item.getBoundingClientRect();
          const itemTop = itemRect.top;
          const triggerPoint = windowHeight * 0.6;

          if (itemTop < triggerPoint) {
            item.classList.add('active');
          } else {
            item.classList.remove('active');
          }
        });
      }

      // Throttled scroll handler for performance
      let ticking = false;
      window.addEventListener('scroll', () => {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            updateTimelineProgress();
            ticking = false;
          });
          ticking = true;
        }
      }, { passive: true });

      // Update on resize
      window.addEventListener('resize', updateTimelineProgress, { passive: true });

      // Initial update
      // Initial update
      updateTimelineProgress();
    }

    // Initialize timeline animation when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initTimelineAnimation);
    } else {
      initTimelineAnimation();
    }

    // Draggable Cards for Research Section
    function initDraggableCards() {
      const container = document.getElementById('researchCanvas');
      if (!container) return;

      const cards = container.querySelectorAll('.draggable-card');

      cards.forEach(card => {
        // Set initial position and rotation from data attributes
        const rotation = card.dataset.rotation || 0;
        const top = card.dataset.top;
        const bottom = card.dataset.bottom;
        const left = card.dataset.left;

        if (top) card.style.top = top;
        if (bottom) card.style.bottom = bottom;
        if (left) card.style.left = left;
        card.style.transform = `rotate(${rotation}deg)`;
        card.style.transition = 'transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';

        // Magnetic hover effect
        card.addEventListener('mousemove', (e) => {
          if (card.classList.contains('dragging')) return;
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left - rect.width / 2;
          const y = e.clientY - rect.top - rect.height / 2;
          const maxMove = 8;
          const moveX = (x / rect.width) * maxMove;
          const moveY = (y / rect.height) * maxMove;
          card.style.transform = `rotate(${rotation}deg) translate(${moveX}px, ${moveY}px)`;
        });

        card.addEventListener('mouseleave', () => {
          if (card.classList.contains('dragging')) return;
          card.style.transform = `rotate(${rotation}deg)`;
        });

        let isDragging = false;
        let currentX = 0;
        let currentY = 0;
        let initialX = 0;
        let initialY = 0;

        // Mouse events
        card.addEventListener('mousedown', (e) => {
          isDragging = true;
          card.style.zIndex = 1000;
          card.classList.add('dragging');
          card.style.transition = 'none';

          // Get current position
          const rect = card.getBoundingClientRect();
          const containerRect = container.getBoundingClientRect();

          initialX = e.clientX - rect.left;
          initialY = e.clientY - rect.top;

          currentX = rect.left - containerRect.left;
          currentY = rect.top - containerRect.top;

          card.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
          if (!isDragging) return;

          e.preventDefault();

          const containerRect = container.getBoundingClientRect();
          const cardRect = card.getBoundingClientRect();

          // Calculate new position
          let newX = e.clientX - containerRect.left - initialX;
          let newY = e.clientY - containerRect.top - initialY;

          // Constrain to container bounds
          const maxX = containerRect.width - cardRect.width;
          const maxY = containerRect.height - cardRect.height;

          newX = Math.max(0, Math.min(newX, maxX));
          newY = Math.max(0, Math.min(newY, maxY));

          // Update position
          card.style.left = `${newX}px`;
          card.style.top = `${newY}px`;
          card.style.bottom = 'auto'; // Remove bottom positioning when dragging
        });

        document.addEventListener('mouseup', () => {
          if (isDragging) {
            isDragging = false;
            card.classList.remove('dragging');
            card.style.transition = 'transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
            card.style.cursor = 'grab';
            card.style.zIndex = 1;
          }
        });

        // Touch events for mobile
        card.addEventListener('touchstart', (e) => {
          isDragging = true;
          card.style.zIndex = 1000;

          const touch = e.touches[0];
          const rect = card.getBoundingClientRect();
          const containerRect = container.getBoundingClientRect();

          initialX = touch.clientX - rect.left;
          initialY = touch.clientY - rect.top;

          currentX = rect.left - containerRect.left;
          currentY = rect.top - containerRect.top;
        });

        document.addEventListener('touchmove', (e) => {
          if (!isDragging) return;

          e.preventDefault();

          const touch = e.touches[0];
          const containerRect = container.getBoundingClientRect();
          const cardRect = card.getBoundingClientRect();

          let newX = touch.clientX - containerRect.left - initialX;
          let newY = touch.clientY - containerRect.top - initialY;

          const maxX = containerRect.width - cardRect.width;
          const maxY = containerRect.height - cardRect.height;

          newX = Math.max(0, Math.min(newX, maxX));
          newY = Math.max(0, Math.min(newY, maxY));

          card.style.left = `${newX}px`;
          card.style.top = `${newY}px`;
          card.style.bottom = 'auto';
        }, { passive: false });

        document.addEventListener('touchend', () => {
          if (isDragging) {
            isDragging = false;
            card.style.zIndex = 1;
          }
        });
      });
    }

    // Initialize draggable cards when page loads
    window.addEventListener('load', () => {
      initDraggableCards();
    });

    // ============================================
    // STACKING CARDS — Scroll-Driven Animation (Optimized)
    // ============================================
    function initStackingCards() {
      const section = document.getElementById('stackSection');
      const leftCol = document.querySelector('.research-left');
      const rightCol = document.querySelector('.research-right');
      const wrapper = document.querySelector('.stack-cards-wrapper');
      const container = document.getElementById('stackCards');
      if (!section || !wrapper || !container) return;

      const cards = Array.from(container.querySelectorAll('.stack-card'));
      const totalCards = cards.length;
      if (totalCards === 0) return;

      // Config
      const stackOffsetX = 20;
      const stackOffsetY = 16;
      const entryRotation = 8;
      const stackRotation = 2;

      let currentProgress = 0;
      const lerpFactor = 0.08;

      // Cache DOM metrics to prevent layout thrashing
      let metrics = {};

      function updateMetrics() {
        if (window.innerWidth <= 768) return; // Skip complex layout math on mobile

        const sectionRect = section.getBoundingClientRect();
        // Determine the absolute document top vs current scroll
        const scrollY = window.pageYOffset || document.documentElement.scrollTop;
        metrics.sectionAbsoluteTop = sectionRect.top + scrollY;

        metrics.sectionHeight = section.offsetHeight;
        metrics.viewportHeight = window.innerHeight;
        metrics.wrapperHeight = 0.8 * metrics.viewportHeight;

        metrics.pinStart = 0.15 * metrics.viewportHeight;
        metrics.unpinScroll = metrics.sectionHeight - (metrics.pinStart + metrics.wrapperHeight);

        metrics.sectionWidth = section.offsetWidth;
        // The left position of the section inside the document
        metrics.sectionLeftNode = sectionRect.left;

        const gap = 64; // 4rem gap
        metrics.leftWidth = Math.round(metrics.sectionWidth * 0.35);
        metrics.rightLeft = metrics.sectionLeftNode + metrics.leftWidth + gap;
        metrics.rightWidth = metrics.sectionWidth - metrics.leftWidth - gap;

        metrics.finalTopOffset = metrics.sectionHeight - metrics.wrapperHeight;
        metrics.windowWidth = window.innerWidth;
      }

      // Initial calculation
      updateMetrics();

      // Recalculate only when the window resizes
      window.addEventListener('resize', updateMetrics);

      function updateCards() {
        if (metrics.windowWidth <= 768) {
          requestAnimationFrame(updateCards);
          return;
        }

        const scrollY = window.pageYOffset || document.documentElement.scrollTop;
        // Calculate the current relative top of the section based on cached absolute top
        const sectionTop = metrics.sectionAbsoluteTop - scrollY;

        // Apply Position & Pinning
        if (sectionTop > metrics.pinStart) {
          // A: Before pinning — Natural Flow
          wrapper.style.position = 'relative';
          wrapper.style.top = '';
          wrapper.style.bottom = '';
          wrapper.style.left = '';
          wrapper.style.width = '';

          if (leftCol) {
            leftCol.style.position = 'relative';
            leftCol.style.top = '';
            leftCol.style.bottom = '';
            leftCol.style.left = '';
            leftCol.style.width = '';
          }
        } else if (-sectionTop < metrics.unpinScroll) {
          // B: Pinned Phase
          wrapper.style.position = 'fixed';
          wrapper.style.top = '15vh';
          wrapper.style.bottom = '';
          wrapper.style.left = metrics.rightLeft + 'px';
          wrapper.style.width = metrics.rightWidth + 'px';

          if (leftCol) {
            leftCol.style.position = 'fixed';
            leftCol.style.top = '15vh';
            leftCol.style.bottom = '';
            leftCol.style.left = metrics.sectionLeftNode + 'px';
            leftCol.style.width = metrics.leftWidth + 'px';
          }
        } else {
          // C: After Pinning — Absolute offset perfectly matches exit boundary
          wrapper.style.position = 'absolute';
          wrapper.style.top = metrics.finalTopOffset + 'px';
          wrapper.style.bottom = '';
          wrapper.style.left = (metrics.rightLeft - metrics.sectionLeftNode) + 'px'; // Relative to section
          wrapper.style.width = metrics.rightWidth + 'px';

          if (leftCol) {
            leftCol.style.position = 'absolute';
            leftCol.style.top = metrics.finalTopOffset + 'px';
            leftCol.style.bottom = '';
            leftCol.style.left = '0';
            leftCol.style.width = metrics.leftWidth + 'px';
          }
        }

        // Card animation progress seamlessly scales 0.0 to 1.0 during pinned phase
        const scrolled = Math.max(0, metrics.pinStart - sectionTop);
        const scrollRange = metrics.sectionHeight - metrics.wrapperHeight;
        const targetProgress = Math.max(0, Math.min(1, scrolled / scrollRange));

        // LERP for smoother animation
        currentProgress += (targetProgress - currentProgress) * lerpFactor;
        const progress = currentProgress;

        cards.forEach((card, i) => {
          const segmentStart = i / totalCards;
          const segmentEnd = (i + 1) / totalCards;
          const cardProgress = Math.max(0, Math.min(1, (progress - segmentStart) / (segmentEnd - segmentStart)));

          if (cardProgress <= 0) {
            card.style.transform = 'translateX(120vw) rotate(15deg)';
            card.style.zIndex = i + 1;
          } else if (cardProgress >= 1) {
            const rot = (i % 2 === 0 ? -1 : 1) * (i * stackRotation * 0.4);
            card.style.transform = `translate(${i * stackOffsetX}px, ${i * stackOffsetY}px) rotate(${rot}deg)`;
            card.style.zIndex = i + 1;
          } else {
            const ease = 1 - Math.pow(1 - cardProgress, 3);
            const targetX = i * stackOffsetX;
            const targetY = i * stackOffsetY;
            const targetRot = (i % 2 === 0 ? -1 : 1) * (i * stackRotation * 0.4);
            const startX = metrics.windowWidth * 0.8;
            const startRot = entryRotation;
            const currentX = startX + (targetX - startX) * ease;
            const currentY = targetY * ease;
            const currentRot = startRot + (targetRot - startRot) * ease;
            card.style.transform = `translate(${currentX}px, ${currentY}px) rotate(${currentRot}deg)`;
            card.style.zIndex = totalCards + 1;
          }
        });

        requestAnimationFrame(updateCards);
      }

      requestAnimationFrame(updateCards);
    }

    // Initialize stacking cards
    window.addEventListener('load', () => {
      initStackingCards();
    });

    // Reinitialize on resize (handle mobile breakpoint)
    window.addEventListener('resize', () => {
      const cards = document.querySelectorAll('.stack-card');
      if (window.innerWidth <= 768) {
        cards.forEach(card => card.style.transform = '');
      }
    });

    // Contact Form Submission
    const contactForm = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');
    const btnText = document.getElementById('btnText');
    const contactAlert = document.getElementById('contactAlert');

    if (contactForm) {
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Add sending animation
        submitBtn.classList.add('sending');
        submitBtn.disabled = true;

        try {
          // Get form data
          const formData = new FormData(contactForm);

          // Submit to Formspree
          const response = await fetch('https://formspree.io/f/xvgwddda', {
            method: 'POST',
            body: formData,
            headers: {
              'Accept': 'application/json'
            }
          });

          // Wait for animation to complete
          await new Promise(resolve => setTimeout(resolve, 1200));

          if (response.ok) {
            // Show success state
            submitBtn.classList.remove('sending');
            submitBtn.classList.add('success');
            btnText.textContent = 'SENT!';

            // Show success alert
            showAlert('success', 'Your message has been sent successfully! I\'ll get back to you soon.');

            // Reset form
            contactForm.reset();

            // Reset button after delay
            setTimeout(() => {
              submitBtn.classList.remove('success');
              btnText.textContent = 'SHOOT';
              submitBtn.disabled = false;
            }, 2000);
          } else {
            submitBtn.classList.remove('sending');
            btnText.textContent = 'SHOOT';
            submitBtn.disabled = false;
            showAlert('error', 'Oops! Something went wrong. Please try again.');
          }
        } catch (error) {
          console.error('Form submission error:', error);
          submitBtn.classList.remove('sending');
          btnText.textContent = 'SHOOT';
          submitBtn.disabled = false;
          showAlert('error', 'Network error. Please check your connection and try again.');
        }
      });
    }

    function showAlert(type, message) {
      if (!contactAlert) return;

      const alertMessage = contactAlert.querySelector('span');
      const alertIcon = contactAlert.querySelector('i');

      // Set message
      if (alertMessage) alertMessage.textContent = message;

      // Set icon based on type
      if (alertIcon) {
        alertIcon.className = type === 'success' ? 'ph-fill ph-check-circle' : 'ph-fill ph-warning-circle';
      }

      // Set color based on type
      if (type === 'success') {
        contactAlert.style.background = 'linear-gradient(135deg, #10b981, #059669)';
      } else {
        contactAlert.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
      }

      // Show alert
      contactAlert.style.display = 'flex';

      // Hide after 5 seconds
      setTimeout(() => {
        contactAlert.style.opacity = '0';
        setTimeout(() => {
          contactAlert.style.display = 'none';
          contactAlert.style.opacity = '1';
        }, 300);
      }, 5000);
    }

    // Copy to Clipboard Function
    // Accepts text and optional event (when invoked via onclick="copyToClipboard(..., event)")
    function copyToClipboard(text, evt) {
      // Try to resolve the button element robustly
      let copyBtn = null;
      if (evt && evt.target) {
        copyBtn = evt.target.closest && evt.target.closest('.copy-btn');
      }

      // Fallback: find the first .copy-btn near a mailto link matching the text
      if (!copyBtn) {
        const anchors = document.querySelectorAll('a[href^="mailto:"]');
        for (const a of anchors) {
          if (a.href && a.href.includes(text)) {
            // look for a sibling .copy-btn
            const parent = a.closest('.info-value-with-copy');
            if (parent) {
              copyBtn = parent.querySelector('.copy-btn');
              break;
            }
          }
        }
      }

      navigator.clipboard.writeText(text).then(() => {
        try {
          if (copyBtn) {
            const icon = copyBtn.querySelector('i');
            if (icon) {
              const originalClass = icon.className;
              icon.className = 'ph-fill ph-check';
              copyBtn.classList.add('copied');

              const originalBg = copyBtn.style.background;
              copyBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
              copyBtn.style.borderColor = '#10b981';

              setTimeout(() => {
                icon.className = originalClass;
                copyBtn.classList.remove('copied');
                copyBtn.style.background = originalBg;
                copyBtn.style.borderColor = '';
              }, 2000);
            }
          }
        } catch (e) {
          // Non-fatal: icon/UI update failed
          console.warn('copyToClipboard: UI feedback update failed', e);
        }
      }).catch(err => {
        console.error('Failed to copy:', err);
        alert('Failed to copy email. Please copy manually: ' + text);
      });
    }



    // Word Count Indicator with Progress Bar
    const messageTextarea = document.getElementById('message');
    const wordCountText = document.getElementById('wordCountText');
    const wordCountFill = document.getElementById('wordCountFill');
    const WORD_LIMIT = 500;

    function countWords(text) {
      // Trim whitespace and split by whitespace, filter empty strings
      const words = text.trim().split(/\s+/).filter(word => word.length > 0);
      return words.length;
    }

    function updateWordCount() {
      if (!messageTextarea || !wordCountText || !wordCountFill) return;

      const text = messageTextarea.value;
      const wordCount = countWords(text);

      // Update the count display (current/limit format)
      wordCountText.textContent = `${wordCount}/${WORD_LIMIT}`;

      // Calculate fill percentage (cap at 100%)
      const fillPercent = Math.min((wordCount / WORD_LIMIT) * 100, 100);
      wordCountFill.style.width = `${fillPercent}%`;

      // Remove all status classes
      wordCountText.classList.remove('status-green', 'status-yellow', 'status-red');
      wordCountFill.classList.remove('status-green', 'status-yellow', 'status-red');

      // Add appropriate status class based on percentage
      let statusClass;
      if (fillPercent <= 50) {
        statusClass = 'status-green';
      } else if (fillPercent <= 80) {
        statusClass = 'status-yellow';
      } else {
        statusClass = 'status-red';
      }

      wordCountText.classList.add(statusClass);
      wordCountFill.classList.add(statusClass);
    }

    // Listen for input changes
    if (messageTextarea) {
      messageTextarea.addEventListener('input', updateWordCount);
      // Initialize on page load
      updateWordCount();
    }

    // Scroll-Reveal Text Highlighting
    function initScrollRevealText() {
      const scrollRevealElements = document.querySelectorAll('.scroll-reveal-text');

      scrollRevealElements.forEach(element => {
        // Get the HTML content and wrap words in spans while preserving HTML tags
        const html = element.innerHTML;

        // Split by HTML tags to preserve them
        const parts = html.split(/(<[^>]+>)/g);

        let wrappedHTML = '';
        parts.forEach(part => {
          if (part.startsWith('<')) {
            // This is an HTML tag, keep it as is
            wrappedHTML += part;
          } else {
            // This is text, wrap each word
            const words = part.split(/(\s+)/);
            words.forEach(word => {
              if (word.trim() && !/^\s+$/.test(word)) {
                wrappedHTML += `<span class="reveal-word">${word}</span>`;
              } else {
                wrappedHTML += word;
              }
            });
          }
        });

        element.innerHTML = wrappedHTML;
      });
    }

    function updateScrollReveal() {
      const scrollRevealElements = document.querySelectorAll('.scroll-reveal-text');
      const windowHeight = window.innerHeight;

      // Find which paragraph is currently in the "focus zone" (middle 40% of viewport)
      const focusTop = windowHeight * 0.3;
      const focusBottom = windowHeight * 0.7;

      scrollRevealElements.forEach(element => {
        const rect = element.getBoundingClientRect();
        const elementCenter = rect.top + rect.height / 2;
        const words = element.querySelectorAll('.reveal-word');

        if (elementCenter < focusTop) {
          // Element center is above focus zone - fully highlight it (scrolled past)
          words.forEach(word => word.classList.add('highlighted'));
        } else if (elementCenter > focusBottom) {
          // Element center is below focus zone - keep it dim (not reached yet)
          words.forEach(word => word.classList.remove('highlighted'));
        } else {
          // Element is in the focus zone - progressively reveal
          // Calculate progress based on position within focus zone
          // 0 at bottom of focus zone, 1 at top
          const progress = (focusBottom - elementCenter) / (focusBottom - focusTop);
          const totalWords = words.length;
          // Use ceil to ensure last word gets highlighted
          const wordsToHighlight = Math.ceil(progress * totalWords);

          words.forEach((word, index) => {
            if (index < wordsToHighlight) {
              word.classList.add('highlighted');
            } else {
              word.classList.remove('highlighted');
            }
          });
        }
      });
    }

    // Initialize on DOM ready
    initScrollRevealText();

    // Update on scroll
    let revealTicking = false;
    window.addEventListener('scroll', () => {
      if (!revealTicking) {
        window.requestAnimationFrame(() => {
          updateScrollReveal();
          revealTicking = false;
        });
        revealTicking = true;
      }
    }, { passive: true });

    // Initial check
    updateScrollReveal();

    // Projects Section Scroll-Animated Border
    const projectsBorderWrapper = document.getElementById('projectsBorderWrapper');
    const projectsSection = document.getElementById('projects');

    function updateProjectsBorder() {
      if (!projectsBorderWrapper || !projectsSection) return;

      const windowHeight = window.innerHeight;
      const sectionRect = projectsSection.getBoundingClientRect();

      // Calculate how far we've scrolled into the section
      // Start animation when section top is at 100% of viewport (just entering)
      // End animation when section top is at 15% of viewport
      const startPoint = windowHeight * 1.0;
      const endPoint = windowHeight * 0.15;

      // Calculate progress (0 = not yet visible, 1 = fully in view)
      let progress = 0;
      if (sectionRect.top < startPoint && sectionRect.top > endPoint) {
        progress = (startPoint - sectionRect.top) / (startPoint - endPoint);
      } else if (sectionRect.top <= endPoint) {
        progress = 1;
      }

      // Clamp progress between 0 and 1
      progress = Math.max(0, Math.min(1, progress));

      // Easing function for smoother animation
      const easeOutCubic = (t) => 1 - Math.pow(1 - t, 3);
      const easedProgress = easeOutCubic(progress);

      // Animate margin (from 0 to 80px) and border-radius (from 0 to 32px)
      // Starts edge-to-edge and shrinks inward as you scroll
      const maxMargin = 80;
      const maxBorderRadius = 32;

      const currentMargin = easedProgress * maxMargin;
      const currentBorderRadius = easedProgress * maxBorderRadius;

      projectsBorderWrapper.style.marginLeft = `${currentMargin}px`;
      projectsBorderWrapper.style.marginRight = `${currentMargin}px`;
      projectsBorderWrapper.style.borderRadius = `${currentBorderRadius}px`;
    }

    let borderTicking = false;
    window.addEventListener('scroll', () => {
      if (!borderTicking) {
        window.requestAnimationFrame(() => {
          updateProjectsBorder();
          borderTicking = false;
        });
        borderTicking = true;
      }
    }, { passive: true });
    updateProjectsBorder();

    // ============================================
    // EXPERIENCE TIMELINE - Scroll-Based Progress & Card Animation
    // ============================================
    const expTimeline = document.getElementById('experienceTimeline');
    const expTimelineItems = document.querySelectorAll('.exp-timeline-item');

    function updateExperienceTimeline() {
      if (!expTimeline || expTimelineItems.length === 0) return;

      const timelineRect = expTimeline.getBoundingClientRect();
      const timelineHeight = expTimeline.offsetHeight;
      const windowHeight = window.innerHeight;

      // Calculate how much of the timeline has been scrolled through
      // Progress starts when timeline top hits 70% of viewport
      const startTrigger = windowHeight * 0.7;
      const endTrigger = windowHeight * 0.3;

      let progressPixels = 0;
      if (timelineRect.top < startTrigger) {
        progressPixels = startTrigger - timelineRect.top;
      }

      // Clamp progress to timeline height
      const progressPercent = Math.min(Math.max(progressPixels / timelineHeight * 100, 0), 100);

      // Update CSS variable for progress line
      expTimeline.style.setProperty('--timeline-progress', `${progressPercent}%`);

      // Update each timeline item's active state
      expTimelineItems.forEach((item) => {
        const dot = item.querySelector('.exp-timeline-dot');
        if (!dot) return;

        const dotRect = dot.getBoundingClientRect();
        const dotCenterY = dotRect.top + dotRect.height / 2;

        // Card becomes active when progress line passes its dot
        // Dot is considered "passed" when it's above 60% of viewport
        if (dotCenterY < windowHeight * 0.6) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
    }

    // Throttle for performance
    let expTimelineTicking = false;
    function onExpTimelineScroll() {
      if (!expTimelineTicking) {
        requestAnimationFrame(() => {
          updateExperienceTimeline();
          expTimelineTicking = false;
        });
        expTimelineTicking = true;
      }
    }

    window.addEventListener('scroll', onExpTimelineScroll, { passive: true });
    updateExperienceTimeline();

    // ============================================
    // TITLE ROTATOR (slide up from bottom)
    // ============================================
    (function initTitleRotator() {
      const items = document.querySelectorAll('.title-rotator .title-item');
      if (!items.length) return;
      let current = 0;
      items[0].classList.add('active');

      setInterval(() => {
        const prev = current;
        current = (current + 1) % items.length;
        items[prev].classList.remove('active');
        items[prev].classList.add('exit-up');
        items[current].classList.add('active');
        setTimeout(() => items[prev].classList.remove('exit-up'), 600);
      }, 3000);
    })();

    // ============================================
    // macOS SPOTLIGHT & TERMINAL ANIMATION SEQUENCE
    // ============================================
    (function initSequence() {
      const spotlight = document.getElementById('spotlightSearch');
      const spotlightText = document.getElementById('spotlightText');
      const terminalContainer = document.getElementById('macTerminal');
      const terminalWindow = document.getElementById('terminalWindow');

      if (!spotlight || !terminalContainer || !terminalWindow) return;

      // Human-like typing speed (ms per char)
      function humanDelay() { return Math.random() * 80 + 70; } // 70-150ms
      function humanDelayFast() { return Math.random() * 40 + 50; } // 50-90ms

      const promptHTML = `<span class="cmd-prompt">user@vimanga:</span><span class="cmd-path">~$</span> `;

      // === STEP 1: Spotlight appears blank, pauses, then types ===
      function startSpotlight() {
        setTimeout(() => {
          spotlight.classList.add('active');
          // Blank pause — like a human opened Spotlight and is about to type
          setTimeout(() => {
            typeInSpotlight('Terminal', 0);
          }, 900);
        }, 1200);
      }

      function typeInSpotlight(text, i) {
        if (i < text.length) {
          spotlightText.textContent += text.charAt(i);
          setTimeout(() => typeInSpotlight(text, i + 1), humanDelay());
        } else {
          // Pause as if reading the result, then "press Enter"
          setTimeout(launchTerminal, 800);
        }
      }

      // === STEP 2: Terminal opens with bounce-in animation ===
      function launchTerminal() {
        spotlight.classList.remove('active');
        spotlightText.textContent = '';
        setTimeout(() => {
          terminalContainer.classList.add('launched', 'bounce-in');
          // Small pause before typing starts
          setTimeout(runTerminalScript, 800);
        }, 400);
      }

      // === STEP 3: Terminal script with typo → error → correction ===
      function runTerminalScript() {
        const script = [
          { action: 'type', text: 'whoami' },
          { action: 'enter' },
          { action: 'output', html: '<span class="cmd-info">Vimanga Umange — CS Graduate Student @ University of Windsor</span>' },
          { action: 'pause', ms: 500 },

          { action: 'type', text: 'cat latest_projects.txt' },
          { action: 'enter' },
          { action: 'output', html: '<div class="terminal-project-line"><span style="color:#d19a66">1.</span><span class="terminal-project-title">FitTrack — AI Wellness Assistant</span><span class="cmd-warning">Finalist</span></div><div class="terminal-project-line"><span style="color:#d19a66">2.</span><span class="terminal-project-title">WeatherWise — NASA Activity Recommender</span><span style="color:#ff8a65">🎖 Honorable Mention</span></div><div class="terminal-project-line"><span style="color:#d19a66">3.</span><span class="terminal-project-title">E-Tutor — Adaptive Learning Platform</span></div><div class="terminal-project-line"><span style="color:#d19a66">4.</span><span class="terminal-project-title">AI Movie Search — Semantic NLP Engine</span></div>' },
          { action: 'pause', ms: 600 },

          // THE TYPO LINE
          { action: 'type', text: 'python3 run_potfolio.py' },
          { action: 'enter' },
          { action: 'output', html: '<span class="cmd-error">Traceback (most recent call last):\n  File "run_potfolio.py", line 1\nFileNotFoundError: No such file \'run_potfolio.py\'</span>' },
          { action: 'pause', ms: 1000 },

          // CORRECTION
          { action: 'type', text: 'python3 run_portfolio.py' },
          { action: 'enter' },
          { action: 'output', html: '<span class="cmd-success">✓ Loading skills... [Python, PyTorch, React, Flutter, Docker]</span>\n<span class="cmd-success">✓ Compiling projects... 6 found</span>\n<span class="cmd-success">✓ Portfolio ready — Welcome!</span>' },
        ];

        let i = 0;
        let charIdx = 0;
        let currentCmdSpan = null;
        let currentCursor = null;

        function newPromptLine() {
          const line = document.createElement('div');
          line.style.marginTop = '4px';
          line.innerHTML = promptHTML + '<span class="cmd-command"></span><span class="cmd-cursor"></span>';
          terminalWindow.appendChild(line);
          currentCmdSpan = line.querySelector('.cmd-command');
          currentCursor = line.querySelector('.cmd-cursor');
          scrollTerminal();
        }

        function scrollTerminal() {
          terminalWindow.scrollTop = terminalWindow.scrollHeight;
        }

        function next() {
          if (i >= script.length) {
            // Final blinking cursor
            newPromptLine();
            if (currentCmdSpan) currentCmdSpan.remove();
            return;
          }

          const step = script[i];

          if (step.action === 'type') {
            if (charIdx === 0) newPromptLine();
            if (charIdx < step.text.length) {
              currentCmdSpan.textContent += step.text.charAt(charIdx);
              charIdx++;
              scrollTerminal();
              setTimeout(next, humanDelay());
              return; // don't advance i
            } else {
              charIdx = 0;
              i++;
              setTimeout(next, 80);
              return;
            }
          }

          if (step.action === 'enter') {
            if (currentCursor) currentCursor.remove();
            i++;
            setTimeout(next, 400);
            return;
          }

          if (step.action === 'output') {
            const out = document.createElement('div');
            out.className = 'cmd-output';
            out.innerHTML = step.html.replace(/\\n/g, '<br>');
            terminalWindow.appendChild(out);
            scrollTerminal();
            i++;
            setTimeout(next, 300);
            return;
          }

          if (step.action === 'pause') {
            i++;
            setTimeout(next, step.ms);
            return;
          }
        }

        next();
      }

      // Kick it off
      startSpotlight();
    })();

    // Laptop 3D: spin reveal, subtle parallax, and crisp screen textures
    function initLaptop3D() {
      let mouseX = 0;
      let mouseY = 0;
      window.addEventListener('mousemove', (e) => {
        mouseX = (e.clientX / window.innerWidth - 0.5) * 2;
        mouseY = (e.clientY / window.innerHeight - 0.5) * 2;
      });

      document.querySelectorAll('model-viewer.laptop-model').forEach(mv => {
        let currentTheta = 100;
        let currentPhi = 75;
        let isRevealed = false;
        let revealComplete = false;
        const baseTheta = 0;
        const basePhi = 75;
        const wrap = mv.closest('.laptop-model-wrap');

        const updateOrbit = () => {
          // Phase 1: turn-around reveal to face the user.
          // Phase 2: subtle parallax only after reveal is complete.
          const targetTheta = isRevealed
            ? (revealComplete ? (baseTheta - (mouseX * 15)) : baseTheta)
            : 100;
          const targetPhi = isRevealed
            ? (revealComplete ? (basePhi - (mouseY * 10)) : basePhi)
            : 75;

          currentTheta += (targetTheta - currentTheta) * 0.05;
          currentPhi += (targetPhi - currentPhi) * 0.05;

          mv.cameraOrbit = `${currentTheta}deg ${currentPhi}deg 95%`;

          if (isRevealed && !revealComplete) {
            if (Math.abs(currentTheta - baseTheta) < 2.5 && Math.abs(currentPhi - basePhi) < 2.5) {
              revealComplete = true;
              if (wrap) wrap.classList.add('is-ready');
            }
          }

          requestAnimationFrame(updateOrbit);
        };
        updateOrbit();

        const observer = new IntersectionObserver((entries) => {
          if (entries[0].isIntersecting) {
            isRevealed = true;
            observer.disconnect();
          }
        }, { threshold: 0.4 });
        observer.observe(mv);

        mv.addEventListener('load', async () => {
          const thumbnailSrc = mv.getAttribute('data-thumbnail');
          if (!thumbnailSrc) return;
          const wrap = mv.closest('.laptop-model-wrap');
          if (wrap) {
            const previewImg = wrap.querySelector('.laptop-hover-preview');
            if (previewImg && !previewImg.src) {
              previewImg.src = thumbnailSrc;
            }
          }
          const model = mv.model;
          if (!model) return;

          const materialNames = model.materials.map(m => m.name);
          console.log('Model materials:', materialNames);

          let screenMat = null;
          for (const material of model.materials) {
            const name = material.name.toLowerCase();
            if (name.includes('screen') || name.includes('display') ||
              name.includes('monitor') || name.includes('emission') ||
              name.includes('emissive') || name.includes('wallpaper')) {
              screenMat = material;
              break;
            }
          }

          if (!screenMat) {
            for (const material of model.materials) {
              if (material.emissiveTexture && material.emissiveTexture.texture) {
                screenMat = material;
                break;
              }
            }
          }

          if (!screenMat) {
            console.warn('Could not find screen material. Available:', materialNames);
            return;
          }

          console.log('Found screen material:', screenMat.name);

          try {
            const texture = await mv.createTexture(thumbnailSrc);

            try {
              const threeTexture = texture.source?.texture;
              if (threeTexture) {
                const renderer = mv[Object.getOwnPropertySymbols(mv).find(s => s.toString().includes('renderer'))]
                  || mv.renderer;
                const maxAnisotropy = (renderer && renderer.threeRenderer)
                  ? renderer.threeRenderer.capabilities.getMaxAnisotropy()
                  : 16;
                threeTexture.generateMipmaps = true;
                threeTexture.minFilter = 1008;      // THREE.LinearMipmapLinearFilter
                threeTexture.magFilter = 1006;      // THREE.LinearFilter
                threeTexture.anisotropy = maxAnisotropy;
                threeTexture.needsUpdate = true;
              }
            } catch (_) { }

            try {
              const sampler = texture.sampler;
              if (sampler) {
                sampler.setMinFilter(9987);   // GL LINEAR_MIPMAP_LINEAR
                sampler.setMagFilter(9729);   // GL LINEAR
              }
            } catch (_) { }

            const pbr = screenMat.pbrMetallicRoughness;
            if (pbr) {
              pbr.setBaseColorFactor([0, 0, 0, 1]);
              pbr.setMetallicFactor(0);
              pbr.setRoughnessFactor(1);
            }

            if (screenMat.emissiveTexture) {
              screenMat.emissiveTexture.setTexture(texture);
            }
            try {
              if (screenMat.setEmissiveFactor) {
                screenMat.setEmissiveFactor([1, 1, 1]);
              }
            } catch (_) { }

            // Texture applied successfully, make the model visible
            mv.classList.add('texture-applied');
          } catch (e) {
            console.warn('Failed to set screen texture:', e);
            // Even if it fails, make the model visible so it's not permanently invisible
            mv.classList.add('texture-applied');
          }
        });
      });
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initLaptop3D);
    } else {
      initLaptop3D();
    }
  </script>
</body>

</html>